{
  "id": "sound_something_second_wait_with_block",
  "category": "sound",
  "name": "[초] 동안 [소리] 재생하기",
  "description": "지정한 시간 동안만 소리를 재생하는 블록입니다. 소리 파일의 처음부터 지정한 초만큼 재생한 후 자동으로 멈추며, 재생하는 동안 다른 코드도 계속 실행됩니다.",

  "educational_context": {
    "learning_objectives": [
      "시간 제한 소리 재생 개념 이해",
      "비동기 실행과 시간 제어 학습",
      "효과적인 사운드 타이밍 관리",
      "부분 재생을 통한 자원 효율화",
      "정밀한 사운드 효과 구현"
    ],
    "key_concepts": [
      {
        "concept": "시간 제한 재생(Time-Limited Playback)",
        "explanation": "소리 파일을 처음부터 지정한 시간만큼만 재생하고 자동으로 멈추는 기능"
      },
      {
        "concept": "비동기 타이밍 제어",
        "explanation": "소리가 재생되는 동안 다른 코드가 계속 실행되면서도 정확한 시간에 소리가 멈추는 방식"
      },
      {
        "concept": "자동 중단(Auto-Stop)",
        "explanation": "별도의 정지 명령 없이 지정한 시간이 지나면 자동으로 재생이 중단되는 메커니즘"
      },
      {
        "concept": "부분 샘플링",
        "explanation": "긴 소리 파일의 앞부분만 필요한 만큼 사용하는 효율적인 재생 방식"
      }
    ],
    "difficulty_level": "중급",
    "prerequisites": ["소리 재생 블록 기본 사용법", "초 단위 시간 개념", "비동기 실행 이해", "소리 파일 길이 파악"]
  },

  "usage_examples": [
    {
      "title": "짧은 효과음 반복",
      "description": "긴 효과음의 앞부분만 반복 재생",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "계속 반복하기",
        "  마우스를 클릭했을 때까지 기다리기",
        "  0.5초 동안 [클릭효과음] 재생하기",
        "  크기를 110%로 정하기",
        "  0.2초 기다리기",
        "  크기를 100%로 정하기"
      ],
      "explanation": "클릭할 때마다 효과음의 처음 0.5초만 재생하면서 크기 애니메이션도 함께 실행합니다."
    },
    {
      "title": "음악 미리듣기",
      "description": "여러 음악의 앞부분만 샘플 재생",
      "blocks": [
        "1 키를 눌렀을 때",
        "'트랙 1 미리듣기' 말하기",
        "3초 동안 [음악1] 재생하기",
        "",
        "2 키를 눌렀을 때",
        "'트랙 2 미리듣기' 말하기",
        "3초 동안 [음악2] 재생하기",
        "",
        "3 키를 눌렀을 때",
        "'트랙 3 미리듣기' 말하기",
        "3초 동안 [음악3] 재생하기",
        "",
        "스페이스 키를 눌렀을 때",
        "모든 소리 멈추기",
        "'미리듣기 중지' 말하기"
      ],
      "explanation": "각 숫자 키를 누르면 해당 음악의 처음 3초를 미리 들을 수 있는 시스템입니다."
    },
    {
      "title": "타이머 알림음",
      "description": "시간에 따라 다른 길이의 알림음",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "남은시간 변수를 10으로 정하기",
        "10번 반복하기",
        "  1초 기다리기",
        "  남은시간 변수를 -1만큼 바꾸기",
        "  만약 (남은시간) > 5 라면",
        "    0.1초 동안 [알림음] 재생하기",
        "  아니라면 만약 (남은시간) > 0 라면",
        "    0.3초 동안 [알림음] 재생하기",
        "  아니라면",
        "    2초 동안 [종료음] 재생하기",
        "  (남은시간) 말하기"
      ],
      "explanation": "카운트다운하면서 시간이 적게 남을수록 알림음이 길어지는 타이머입니다."
    },
    {
      "title": "단계별 효과음",
      "description": "게임 진행도에 따른 효과음 길이 조절",
      "blocks": [
        "신호 '아이템획득'을 받았을 때",
        "아이템개수 변수를 1만큼 바꾸기",
        "획득시간 변수를 (아이템개수) × 0.2로 정하기",
        "만약 (획득시간) > 2 라면",
        "  획득시간 변수를 2로 정하기",
        "(획득시간)초 동안 [획득효과음] 재생하기",
        "'아이템 ' + (아이템개수) + '개 획득!' 말하기",
        "크기를 (100 + (아이템개수) × 5)%로 정하기"
      ],
      "explanation": "아이템을 많이 모을수록 효과음이 길게 재생되는 보상 시스템입니다."
    },
    {
      "title": "리듬 패턴 생성",
      "description": "다양한 길이로 드럼 사운드 재생",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "계속 반복하기",
        "  패턴 변수를 (1)부터 (4)까지의 무작위 수로 정하기",
        "  만약 (패턴) = 1 라면",
        "    0.2초 동안 [킥드럼] 재생하기",
        "    0.2초 기다리기",
        "  아니라면 만약 (패턴) = 2 라면",
        "    0.1초 동안 [하이햇] 재생하기",
        "    0.1초 기다리기",
        "  아니라면 만약 (패턴) = 3 라면",
        "    0.3초 동안 [스네어] 재생하기",
        "    0.3초 기다리기",
        "  아니라면",
        "    0.4초 기다리기"
      ],
      "explanation": "무작위로 다양한 길이의 드럼 소리를 재생하여 리듬 패턴을 생성합니다."
    }
  ],

  "progressive_hints": [
    {
      "situation": "소리가 계속 재생되고 멈추지 않아요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "이 블록은 지정한 시간 후 자동으로 멈춰요. 시간이 너무 길게 설정되지 않았나요?"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "시간을 더 짧게 (예: 1초, 0.5초) 설정해보세요"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "소리 파일 자체가 짧다면, 파일 길이보다 긴 시간을 설정해도 파일이 끝나면 멈춰요"
        }
      ]
    },
    {
      "situation": "정확한 시간에 멈추지 않는 것 같아요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "소수점을 사용해서 더 정밀하게 시간을 조절할 수 있어요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "0.1초, 0.5초, 1.5초 같은 소수점 값도 사용 가능해요"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "다른 블록이 간섭하고 있는지 확인해보세요"
        }
      ]
    },
    {
      "situation": "재생이 끝난 후 다음 동작 타이밍을 맞추기 어려워요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "이 블록은 비동기로 작동해서 바로 다음 코드가 실행돼요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "재생 시간만큼 '기다리기' 블록을 추가하면 동기화할 수 있어요"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "정확한 타이밍이 중요하다면 '재생하고 기다리기' 블록 사용을 고려하세요"
        }
      ]
    }
  ],

  "common_mistakes": [
    {
      "mistake": "재생 시간을 소리 파일 길이보다 길게 설정",
      "why_it_happens": "소리 파일의 실제 길이를 모르고 임의로 큰 값 입력",
      "consequence": "파일이 끝나면 자동으로 멈추지만, 의도와 다른 결과",
      "solution": "소리 파일의 실제 길이를 확인하고 그보다 짧은 시간 설정",
      "teaching_moment": "5초짜리 소리에 10초를 설정해도 5초만 재생돼요. 파일 길이를 확인하세요."
    },
    {
      "mistake": "너무 짧은 시간 설정으로 소리가 들리지 않음",
      "why_it_happens": "0.01초 같은 너무 짧은 시간 설정",
      "consequence": "소리가 거의 들리지 않거나 클릭음처럼 들림",
      "solution": "최소 0.1초 이상으로 설정하여 들을 수 있는 길이 확보",
      "teaching_moment": "사람이 소리를 인식하려면 최소한의 시간이 필요해요. 0.1초 이상 설정하세요."
    },
    {
      "mistake": "반복문에서 계속 새로 재생",
      "why_it_happens": "반복문 안에서 조건 없이 매번 재생",
      "consequence": "소리가 계속 처음부터 다시 시작되어 제대로 들리지 않음",
      "solution": "재생 조건을 추가하거나 재생 후 대기 시간 설정",
      "teaching_moment": "반복문은 매우 빠르게 실행돼요. 재생이 끝날 때까지 기다려야 해요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "소리 파일 준비",
      "instruction": "사용할 소리 파일이 업로드되어 있는지 확인하세요.",
      "visual_hint": "소리 탭에서 파일 목록을 확인할 수 있어요."
    },
    {
      "step": 2,
      "title": "소리 카테고리 선택",
      "instruction": "블록 팔레트에서 '소리' 카테고리를 클릭하세요.",
      "visual_hint": "분홍색 스피커 아이콘을 찾으세요."
    },
    {
      "step": 3,
      "title": "시간 제한 재생 블록 찾기",
      "instruction": "'[초] 동안 [소리] 재생하기' 블록을 드래그하세요.",
      "visual_hint": "시간과 소리를 모두 설정할 수 있는 블록이에요."
    },
    {
      "step": 4,
      "title": "재생 시간 입력",
      "instruction": "첫 번째 칸에 재생할 시간을 초 단위로 입력하세요.",
      "visual_hint": "1, 0.5, 2.5 같은 숫자를 입력할 수 있어요."
    },
    {
      "step": 5,
      "title": "소리 선택",
      "instruction": "두 번째 드롭다운에서 재생할 소리를 선택하세요.",
      "visual_hint": "업로드한 소리 파일 목록이 나타나요."
    },
    {
      "step": 6,
      "title": "이벤트와 연결",
      "instruction": "언제 재생할지 정하고 이벤트 블록과 연결하세요.",
      "visual_hint": "시작, 키 입력, 클릭 등의 이벤트와 연결해요."
    },
    {
      "step": 7,
      "title": "테스트",
      "instruction": "프로그램을 실행하여 지정한 시간만큼만 소리가 재생되는지 확인하세요.",
      "visual_hint": "시간을 조절하면서 원하는 길이를 찾아보세요."
    }
  ],

  "related_blocks": [
    {
      "block_id": "play_bgm",
      "block_name": "[소리] 재생하기",
      "relationship": "전체 재생",
      "explanation": "소리 파일 전체를 재생하는 기본 블록"
    },
    {
      "block_id": "sound_from_to",
      "block_name": "[소리]를 [시작]초부터 [끝]초까지 재생하기",
      "relationship": "구간 재생",
      "explanation": "시작과 끝을 모두 지정하는 더 정밀한 구간 재생"
    },
    {
      "block_id": "stop_sound",
      "block_name": "모든 소리 멈추기",
      "relationship": "수동 중단",
      "explanation": "자동이 아닌 수동으로 소리를 멈출 때 사용"
    },
    {
      "block_id": "wait_second",
      "block_name": "[초] 기다리기",
      "relationship": "동기화",
      "explanation": "재생 시간만큼 기다려서 동기화할 때 사용"
    },
    {
      "block_id": "_if",
      "block_name": "만약 ~라면",
      "relationship": "조건부 재생",
      "explanation": "상황에 따라 다른 시간 동안 재생하도록 제어"
    }
  ],

  "debugging_tips": [
    {
      "problem": "소리가 너무 빨리 끝나요",
      "possible_causes": ["재생 시간이 너무 짧게 설정됨", "다른 블록이 소리를 멈춤", "소리 파일 자체가 짧음"],
      "solutions": ["재생 시간을 늘려보세요", "다른 스크립트에서 소리를 멈추는지 확인", "소리 파일의 실제 길이 확인"]
    },
    {
      "problem": "소리가 끊기거나 다시 시작돼요",
      "possible_causes": ["같은 소리를 반복해서 재생", "재생이 끝나기 전에 다시 재생", "여러 스크립트에서 동시 제어"],
      "solutions": ["재생 상태를 변수로 관리", "재생 시간만큼 대기 후 다시 재생", "스크립트 간 충돌 확인 및 정리"]
    },
    {
      "problem": "타이밍이 맞지 않아요",
      "possible_causes": ["비동기 실행을 고려하지 않음", "재생 시간과 대기 시간 불일치", "다른 블록과의 간섭"],
      "solutions": ["재생과 같은 시간만큼 기다리기 추가", "타이머를 사용한 정밀한 제어", "동기 재생이 필요하면 다른 블록 사용"]
    }
  ],

  "real_world_connections": [
    {
      "analogy": "음악 앱 미리듣기",
      "explanation": "음악 스트리밍 앱에서 노래의 처음 30초만 미리 들을 수 있는 기능과 같습니다."
    },
    {
      "analogy": "타이머 알람",
      "explanation": "설정한 시간 동안만 알람이 울리고 자동으로 멈추는 것과 같은 방식입니다."
    },
    {
      "analogy": "자동차 경적",
      "explanation": "버튼을 누르는 시간만큼만 경적이 울리는 것과 유사한 제어 방식입니다."
    },
    {
      "analogy": "전자레인지 알림음",
      "explanation": "요리가 끝나면 정해진 시간 동안만 알림음이 울리고 자동으로 멈추는 것과 같습니다."
    }
  ],

  "extensions_and_variations": [
    {
      "concept": "가변 길이 효과음",
      "description": "게임 상황에 따라 효과음 재생 시간이 동적으로 변하는 시스템",
      "use_case": "콤보 수에 비례해서 효과음이 길어지는 격투 게임"
    },
    {
      "concept": "음악 루프 시스템",
      "description": "짧은 구간을 반복 재생하여 끊김 없는 배경음악 구현",
      "use_case": "4초 루프를 계속 반복하여 무한 배경음악 생성"
    },
    {
      "concept": "적응형 알림음",
      "description": "중요도에 따라 알림음 길이가 자동 조절되는 시스템",
      "use_case": "긴급 메시지는 길게, 일반 알림은 짧게 재생"
    },
    {
      "concept": "음성 샘플러",
      "description": "긴 음성 파일에서 필요한 부분만 잘라서 재생하는 도구",
      "use_case": "대화 시스템에서 각 대사의 필요한 부분만 재생"
    }
  ],

  "assessment_criteria": [
    {
      "level": "기초",
      "criteria": "지정한 시간 동안 소리를 재생하고 자동으로 멈추게 할 수 있다",
      "example": "버튼 클릭 시 1초 동안 효과음 재생"
    },
    {
      "level": "중급",
      "criteria": "조건에 따라 다른 길이로 소리를 재생하는 시스템을 구현할 수 있다",
      "example": "게임 진행도에 따라 효과음 길이가 변하는 시스템"
    },
    {
      "level": "고급",
      "criteria": "복잡한 타이밍과 패턴을 가진 사운드 시스템을 설계할 수 있다",
      "example": "다양한 길이의 소리를 조합한 리듬 패턴 생성기"
    }
  ]
}
