{
  "id": "repeat_until",
  "category": "flow",
  "name": "~가 될 때까지 반복하기",
  "description": "판단 블록에 따라 감싸인 블록이 반복 동작할지 결정합니다. 목록 상자를 클릭하면 반복을 멈추는 시점을 바꿀 수 있습니다. '이 될 때까지': 판단 블록이 참이 될 때까지(거짓인 동안) 반복합니다. '인 동안': 판단 블록이 참인 동안(거짓이 될 때까지) 반복합니다.",

  "educational_context": {
    "learning_objectives": [
      "조건부 반복문의 개념과 활용법 이해",
      "조건 판단과 반복 제어의 결합 학습",
      "'~까지'와 '~동안'의 논리적 차이 이해",
      "목표 지향적 프로그래밍 사고력 향상"
    ],
    "key_concepts": [
      {
        "concept": "조건부 반복(Conditional Loop)",
        "explanation": "특정 조건이 만족될 때까지 또는 만족되는 동안 반복하는 구조"
      },
      {
        "concept": "종료 조건",
        "explanation": "반복을 언제 멈출지를 결정하는 참/거짓 조건"
      },
      {
        "concept": "Until vs While",
        "explanation": "'~까지'는 조건이 거짓인 동안, '~동안'은 조건이 참인 동안 반복"
      },
      {
        "concept": "목표 달성형 반복",
        "explanation": "특정 목표나 상태에 도달할 때까지 계속 시도하는 반복"
      }
    ],
    "difficulty_level": "중급",
    "prerequisites": ["Entry 기본 인터페이스 이해", "n번 반복하기 사용법", "판단 블록 이해", "변수 기본 개념"]
  },

  "usage_examples": [
    {
      "title": "기본 사용법 - 벽에 닿을 때까지",
      "description": "캐릭터가 벽에 닿을 때까지 계속 이동",
      "blocks": ["when_run_button_click", "repeat_until(touching_wall)", "move_direction(10)", "wait_second(0.1)"],
      "explanation": "벽에 닿지 않는 동안(거짓) 계속 앞으로 이동하고, 벽에 닿으면(참) 반복을 멈춥니다."
    },
    {
      "title": "변수 조건 - 점수가 100이 될 때까지",
      "description": "점수가 100점에 도달할 때까지 점수 증가",
      "blocks": ["when_run_button_click", "set_variable('점수', 0)", "repeat_until(variable('점수') >= 100)", "change_variable('점수', 10)", "say(variable('점수'))", "wait_second(0.5)"],
      "explanation": "점수가 100보다 작은 동안 10점씩 증가시키고, 100에 도달하면 반복을 멈춥니다."
    },
    {
      "title": "사용자 입력 - 정답을 맞출 때까지",
      "description": "정답을 맞출 때까지 계속 질문",
      "blocks": ["when_run_button_click", "set_variable('정답', '엔트리')", "repeat_until(variable('답') == variable('정답'))", "ask_and_wait('프로그래밍 언어 이름은?')", "set_variable('답', answer)", "wait_second(0.5)"],
      "explanation": "사용자가 정답을 입력할 때까지 계속 질문을 반복합니다."
    }
  ],

  "progressive_hints": [
    {
      "situation": "캐릭터가 특정 위치에 도달할 때까지 이동시키고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "목표에 도달할 때까지 반복하려면 '흐름' 카테고리를 확인하세요"
        },
        {
          "step": 2,
          "hint_type": "concept",
          "content": "정해진 횟수가 아니라 특정 조건이 만족될 때까지 반복해야 해요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "'~가 될 때까지 반복하기' 블록에 위치나 접촉 조건을 넣어보세요"
        }
      ]
    },
    {
      "situation": "변수 값이 특정 숫자에 도달할 때까지 증가시키고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "조건을 확인하면서 반복하려면 '흐름' 카테고리가 필요해요"
        },
        {
          "step": 2,
          "hint_type": "concept",
          "content": "변수가 목표 값에 도달했는지 계속 확인하면서 반복해야 해요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "'~가 될 때까지 반복하기' 블록에 변수 비교 조건을 넣어보세요"
        }
      ]
    },
    {
      "situation": "사용자가 올바른 답을 입력할 때까지 계속 질문하고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "정답을 맞출 때까지 반복하려면 '흐름' 카테고리를 사용하세요"
        },
        {
          "step": 2,
          "hint_type": "concept",
          "content": "사용자 입력과 정답을 비교해서 맞을 때까지 계속 물어봐야 해요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
    {
      "step": 2,
      "title": "조건부 반복 블록 선택", 
      "instruction": "'~가 될 때까지 반복하기' 블록을 찾아 클릭하세요.",
      "visual_hint": "조건을 넣을 수 있는 육각형 모양의 입력칸이 있는 반복 블록이에요."
    },
    {
      "step": 3,
      "title": "반복 조건 설정",
      "instruction": "드롭다운 메뉴에서 '이 될 때까지' 또는 '인 동안' 중 원하는 옵션을 선택하세요.",
      "visual_hint": "'이 될 때까지'는 조건이 거짓인 동안, '인 동안'은 조건이 참인 동안 반복해요."
    },
    {
      "step": 4,
      "title": "판단 조건 연결",
      "instruction": "육각형 입력칸에 판단 블록을 연결하세요.",
      "visual_hint": "벽에 닿기, 변수 비교, 키 누르기 등의 조건을 사용할 수 있어요."
    },
    {
      "step": 5,
      "title": "반복할 동작 추가",
      "instruction": "조건이 만족될 때까지 반복할 블록들을 조건부 반복 블록 안에 넣으세요.",
      "visual_hint": "조건에 영향을 주는 동작(이동, 변수 변경 등)을 포함해야 해요."
    },
    {
      "step": 6,
      "title": "실행 및 조건 확인",
      "instruction": "프로그램을 실행해서 원하는 조건에서 반복이 멈추는지 확인하세요.",
      "visual_hint": "무한 반복에 빠지지 않도록 조건 변화를 잘 관찰하세요."
    }
  ],

  "common_mistakes": [
    {
      "mistake": "'~까지'와 '~동안'의 차이를 이해하지 못함",
      "why_it_happens": "조건의 참/거짓과 반복 지속의 관계를 혼동",
      "consequence": "원하는 때와 반대로 반복이 동작함",
      "solution": "'~까지'는 조건이 거짓일 때 계속, '~동안'은 조건이 참일 때 계속이라는 점 강조",
      "teaching_moment": "'집에 갈 때까지 공부한다'와 '비가 오는 동안 집에 있는다'의 차이처럼, 조건과 행동의 관계를 생각해보세요."
    },
    {
      "mistake": "반복 안에서 조건이 변하지 않는 상황",
      "why_it_happens": "조건에 영향을 주는 요소를 반복 내에서 변경하지 않음",
      "consequence": "조건이 계속 같아서 무한 반복이 되거나 전혀 반복되지 않음",
      "solution": "반복 안에서 조건에 영향을 주는 변수나 상태를 변경하는 블록 포함",
      "teaching_moment": "목표를 향해 한 걸음씩 나아가야 도착할 수 있어요. 같은 자리에 있으면 영원히 도착하지 못해요."
    },
    {
      "mistake": "조건을 너무 복잡하게 설정",
      "why_it_happens": "여러 조건을 한 번에 확인하려고 시도",
      "consequence": "의도한 대로 동작하지 않거나 이해하기 어려운 코드가 됨",
      "solution": "단순한 조건부터 시작해서 점차 복잡한 조건으로 확장",
      "teaching_moment": "복잡한 문제는 간단한 부분으로 나누어서 해결하는 것이 좋아요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "블록 찾기",
      "instruction": "블록 팔레트에서 '흐름' 카테고리를 클릭하세요.",
      "visual_hint": "주황색 화살표 모양의 아이콘을 찾아보세요."
    },
    {
      "step": 2,
      "title": "조건부 반복 블록 선택",
      "instruction": "'