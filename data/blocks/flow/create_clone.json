{
  "id": "create_clone",
  "category": "flow",
  "name": "복제본 만들기",
  "description": "선택한 오브젝트의 복제본을 생성합니다. 원본과 동일한 모양과 코드를 가진 독립적인 오브젝트를 동적으로 만들 수 있어 게임과 시뮬레이션에서 필수적인 블록입니다.",

  "educational_context": {
    "learning_objectives": [
      "동적 오브젝트 생성의 개념과 필요성 이해",
      "복제본과 원본의 관계 및 독립성 학습",
      "게임 개발에서의 오브젝트 풀링 개념 도입",
      "메모리 효율성과 성능 최적화 의식 개발",
      "대량 오브젝트 관리를 위한 시스템 사고 배양"
    ],
    "key_concepts": [
      {
        "concept": "동적 생성(Dynamic Creation)",
        "explanation": "프로그램 실행 중에 필요에 따라 새로운 오브젝트를 만드는 것으로, 고정된 개수가 아닌 상황에 맞게 유연하게 오브젝트를 관리"
      },
      {
        "concept": "복제(Cloning)",
        "explanation": "기존 오브젝트를 템플릿으로 사용하여 동일한 속성과 코드를 가진 새로운 인스턴스를 생성하는 과정"
      },
      {
        "concept": "인스턴스 관리(Instance Management)",
        "explanation": "생성된 복제본들을 효율적으로 추적, 제어, 삭제하는 전체적인 관리 체계"
      },
      {
        "concept": "팩토리 패턴(Factory Pattern)",
        "explanation": "하나의 원본에서 여러 개의 동일한 형태의 오브젝트를 생산하는 설계 패턴"
      }
    ],
    "difficulty_level": "중급",
    "prerequisites": [
      "Entry 기본 조작법과 오브젝트 개념 이해",
      "기본적인 블록 조립과 프로그램 실행 경험",
      "변수와 조건문의 기본적인 활용",
      "반복문과 이벤트 처리 이해"
    ]
  },

  "usage_examples": [
    {
      "title": "별똥별 떨어뜨리기",
      "description": "무한히 떨어지는 별똥별 효과 만들기",
      "blocks": [
        "when_run_button_click",
        "repeat_inf",
        "  create_clone('별똥별')",
        "  wait_second(1)",
        "",
        "// 별똥별 오브젝트에서:",
        "when_clone_start",
        "go_to_xy(<-240부터 240까지의 수 중 하나>, 180)",
        "repeat_inf",
        "  move_to_direction('아래', 10)",
        "  if_condition((<y좌표>) < (-180))",
        "    delete_this_clone"
      ],
      "explanation": "1초마다 별똥별 복제본을 만들어서 화면 위쪽에서 아래로 떨어뜨리고, 화면 밖으로 나가면 자동으로 삭제됩니다."
    },
    {
      "title": "풍선 터뜨리기 게임",
      "description": "클릭으로 터뜨리는 풍선 게임",
      "blocks": [
        "when_run_button_click",
        "set_variable('점수', 0)",
        "repeat(20)",
        "  create_clone('풍선')",
        "  wait_second(2)",
        "",
        "// 풍선 오브젝트에서:",
        "when_clone_start",
        "go_to_xy(<-200부터 200까지의 수 중 하나>, -150)",
        "repeat_inf",
        "  move_to_direction('위', <3부터 8까지의 수 중 하나>)",
        "  if_condition((<y좌표>) > (180))",
        "    delete_clone",
        "",
        "when_object_clicked",
        "change_variable('점수', 1)",
        "delete_clone"
      ],
      "explanation": "풍선 복제본들이 아래서 위로 올라가고, 클릭하면 점수를 얻고 사라지며, 화면 위로 벗어나면 자동 삭제됩니다."
    },
    {
      "title": "꽃잎 흩날리기 효과",
      "description": "자연스러운 꽃잎 애니메이션",
      "blocks": [
        "when_run_button_click",
        "repeat(50)",
        "  create_clone('꽃잎')",
        "  wait_second(0.2)",
        "",
        "// 꽃잎 오브젝트에서:",
        "when_clone_start",
        "go_to_xy(<-240부터 240까지의 수 중 하나>, 180)",
        "set_direction(<-30부터 30까지의 수 중 하나>)",
        "set_variable('수명', <100부터 200까지의 수 중 하나>)",
        "repeat_until((수명) < (1))",
        "  move_forward(<2부터 5까지의 수 중 하나>)",
        "  turn_clockwise(<-10부터 10까지의 수 중 하나>)",
        "  change_variable('수명', -1)",
        "delete_this_clone"
      ],
      "explanation": "꽃잎들이 각기 다른 방향과 속도로 흩날리면서 자연스럽게 움직이다가 일정 시간 후 사라집니다."
    }
  ],

  "progressive_hints": [
    {
      "situation": "복제본을 만들어도 아무것도 나타나지 않아요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "복제본은 원본과 같은 위치에 만들어져서 겹쳐 보일 수 있어요. '복제본이 처음 생성되었을 때' 블록에서 복제본의 위치를 바꿔주세요"
        },
        {
          "step": 2,
          "hint_type": "category",
          "content": "복제본을 만들려는 오브젝트에 '복제본이 처음 생성되었을 때' 시작 블록이 있는지 확인하세요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "복제본 생성 시 보이기, 위치 이동, 크기 설정 등의 블록을 추가해보세요"
        }
      ]
    },
    {
      "situation": "복제본이 너무 많이 생성되어서 화면이 복잡해져요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "복제본 생성 간격을 조절하거나, 최대 개수를 제한해야 해요"
        },
        {
          "step": 2,
          "hint_type": "category",
          "content": "복제본 생성 블록 뒤에 '기다리기' 블록을 넣어서 생성 속도를 조절하세요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "복제본들이 역할을 마치면 '이 복제본 삭제하기' 블록으로 정리해주세요"
        }
      ]
    },
    {
      "situation": "특정 오브젝트의 복제본만 만들고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "목록 상자를 클릭하면 복제하고 싶은 오브젝트를 선택할 수 있어요"
        },
        {
          "step": 2,
          "hint_type": "category",
          "content": "'자신'을 선택하면 이 블록이 있는 오브젝트의 복제본을, 다른 이름을 선택하면 해당 오브젝트의 복제본을 만듭니다"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "복제본을 만들기 전에 대상 오브젝트가 제대로 설정되어 있는지 확인하세요"
        }
      ]
    }
  ],

  "common_mistakes": [
    {
      "mistake": "복제본 생성 후 삭제 코드를 넣지 않아서 메모리 부족 현상 발생",
      "why_it_happens": "복제본의 생명주기 관리에 대한 이해 부족",
      "consequence": "시간이 지날수록 프로그램이 느려지고 결국 멈춤",
      "solution": "복제본이 역할을 마치면 반드시 '이 복제본 삭제하기' 블록으로 제거",
      "teaching_moment": "방을 사용한 후에는 정리를 해야 하듯이, 복제본도 사용 후 정리가 필수예요."
    },
    {
      "mistake": "복제본과 원본을 구분하지 못해서 예상과 다른 동작 발생",
      "why_it_happens": "복제본의 독립성과 원본과의 관계를 제대로 이해하지 못함",
      "consequence": "원본 오브젝트까지 같이 움직이거나 원하지 않는 오브젝트가 동작함",
      "solution": "원본은 복제본 생성 전용으로 사용하고, 복제본에서만 실제 동작 구현",
      "teaching_moment": "쿠키 틀과 쿠키의 관계처럼, 틀은 만들기 위한 것이고 실제 쿠키가 우리가 먹는 것이에요."
    },
    {
      "mistake": "복제본 생성 조건을 제대로 설정하지 않아서 무분별한 생성",
      "why_it_happens": "언제, 얼마나 많은 복제본을 만들지에 대한 계획 부족",
      "consequence": "화면이 너무 복잡해지거나 원하지 않는 타이밍에 복제본 생성",
      "solution": "복제본 생성 전에 조건문이나 타이머를 활용하여 적절한 제어 추가",
      "teaching_moment": "공장에서도 주문량에 맞춰 제품을 만들듯이, 필요한 만큼만 만드는 것이 중요해요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "복제할 오브젝트 준비",
      "instruction": "복제본으로 만들고 싶은 오브젝트를 생성하고 원하는 모양으로 설정하세요.",
      "visual_hint": "이 오브젝트가 복제본의 템플릿 역할을 합니다."
    },
    {
      "step": 2,
      "title": "복제본 만들기 블록 찾기",
      "instruction": "블록 팔레트에서 '흐름' 카테고리의 '복제본 만들기' 블록을 찾으세요.",
      "visual_hint": "하늘색 '흐름' 카테고리에서 '복제본 만들기' 블록을 찾아보세요."
    },
    {
      "step": 3,
      "title": "복제 대상 선택",
      "instruction": "복제본 만들기 블록의 드롭다운을 클릭해서 복제할 오브젝트를 선택하세요.",
      "visual_hint": "'자신' 또는 다른 오브젝트 이름을 선택할 수 있어요."
    },
    {
      "step": 4,
      "title": "복제본 생성 조건 설정",
      "instruction": "언제 복제본을 만들지 결정하고 적절한 시작 블록이나 조건문에 연결하세요.",
      "visual_hint": "버튼 클릭, 키 입력, 타이머 등 다양한 조건을 활용할 수 있어요."
    },
    {
      "step": 5,
      "title": "복제본 초기화 코드 작성",
      "instruction": "복제본이 될 오브젝트에서 '복제본이 처음 생성되었을 때' 블록을 추가하고 초기 설정을 해주세요.",
      "visual_hint": "위치, 방향, 크기, 색깔 등을 설정하면 복제본마다 다른 특성을 가질 수 있어요."
    },
    {
      "step": 6,
      "title": "복제본 삭제 조건 추가",
      "instruction": "복제본이 역할을 마쳤을 때 삭제되도록 '이 복제본 삭제하기' 블록을 적절한 위치에 추가하세요.",
      "visual_hint": "화면을 벗어나거나, 클릭되거나, 일정 시간이 지나면 삭제되도록 설정하세요."
    }
  ],

  "related_blocks": [
    {
      "block_id": "when_clone_created",
      "relationship": "필수 연동 블록",
      "explanation": "복제본이 생성되는 순간 실행되는 시작 블록으로, 복제본의 초기 설정을 담당"
    },
    {
      "block_id": "delete_this_clone",
      "relationship": "생명주기 관리",
      "explanation": "개별 복제본을 삭제하여 메모리를 효율적으로 관리"
    },
    {
      "block_id": "delete_all_clones",
      "relationship": "일괄 정리",
      "explanation": "모든 복제본을 한 번에 삭제하여 화면을 초기화"
    },
    {
      "block_id": "wait_second",
      "relationship": "생성 속도 제어",
      "explanation": "복제본 생성 간격을 조절하여 적절한 속도로 생성"
    }
  ],

  "debugging_tips": [
    {
      "problem": "복제본을 만들어도 보이지 않아요",
      "possible_causes": [
        "복제본이 원본과 같은 위치에 생성되어 겹쳐서 보임",
        "복제본이 화면 밖이나 보이지 않는 위치에 생성됨",
        "'복제본이 처음 생성되었을 때' 블록이 없거나 잘못 설정됨"
      ],
      "solutions": [
        "복제본 생성 시 go_to_xy 블록으로 다른 위치로 이동시키기",
        "복제본의 크기나 투명도를 확인하고 보이도록 설정하기",
        "복제본이 될 오브젝트에 '복제본이 처음 생성되었을 때' 블록 추가하기"
      ]
    },
    {
      "problem": "복제본이 너무 많이 생성되어서 프로그램이 느려져요",
      "possible_causes": [
        "복제본 생성 간격이 너무 짧음",
        "복제본 삭제 코드가 없어서 계속 누적됨",
        "무한 반복문 안에서 조건 없이 복제본을 생성함"
      ],
      "solutions": [
        "복제본 생성 후 wait_second 블록으로 간격 조절하기",
        "복제본이 역할을 마치면 반드시 삭제 코드 추가하기",
        "복제본 생성에 적절한 조건문이나 변수를 활용한 제한 두기"
      ]
    }
  ],

  "real_world_connections": [
    {
      "analogy": "3D 프린터의 제품 생산",
      "explanation": "하나의 설계도(원본)로 동일한 제품(복제본)을 여러 개 만드는 것과 같습니다."
    },
    {
      "analogy": "쿠키 굽기",
      "explanation": "쿠키 틀(원본)로 반죽에서 여러 개의 쿠키(복제본)를 만드는 과정과 같습니다."
    },
    {
      "analogy": "게임 속 몬스터 스폰",
      "explanation": "게임에서 같은 종류의 몬스터가 여러 마리 나타나는 시스템과 동일합니다."
    },
    {
      "analogy": "자동차 공장의 대량 생산",
      "explanation": "하나의 설계를 바탕으로 같은 모델의 자동차를 여러 대 생산하는 것과 같습니다."
    }
  ],

  "extensions_and_variations": [
    {
      "concept": "오브젝트 풀링 시스템",
      "description": "복제본을 미리 만들어 두고 필요할 때 재활용하는 효율적인 관리 방법",
      "use_case": "대규모 게임에서 성능 최적화, 총알이나 파티클 같이 자주 생성/삭제되는 오브젝트 관리"
    },
    {
      "concept": "조건부 복제본 생성",
      "description": "특정 조건을 만족할 때만 복제본을 생성하는 지능형 시스템",
      "use_case": "게임 난이도에 따른 적 생성, 사용자 행동에 반응하는 인터랙티브 시스템"
    },
    {
      "concept": "복제본 계층 구조",
      "description": "복제본이 다시 다른 복제본을 생성하는 다단계 시스템",
      "use_case": "생물 번식 시뮬레이션, 바이러스 확산 모델, 프랙탈 패턴 생성"
    }
  ],

  "assessment_criteria": [
    {
      "level": "기초",
      "criteria": "기본적인 복제본 생성과 간단한 초기화를 구현할 수 있다",
      "example": "버튼을 누르면 복제본이 생성되고 다른 위치로 이동하는 프로그램"
    },
    {
      "level": "중급",
      "criteria": "복제본의 생명주기를 관리하고 다양한 속성을 부여할 수 있다",
      "example": "랜덤한 속성을 가진 복제본들이 생성되고 조건에 따라 삭제되는 게임"
    },
    {
      "level": "고급",
      "criteria": "효율적인 복제본 관리 시스템을 설계하고 성능을 최적화할 수 있다",
      "example": "복제본 개수 제한, 재활용 시스템, 복잡한 상호작용이 있는 대규모 시뮬레이션"
    }
  ]
}
