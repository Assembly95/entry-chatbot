{
  "id": "repeat_basic",
  "category": "flow",
  "name": "n번 반복하기",
  "description": "입력한 횟수만큼 감싸인 블록이 반복 동작합니다. 횟수가 0이면 감싸인 블록은 동작하지 않습니다.",

  "educational_context": {
    "learning_objectives": [
      "반복문의 기본 개념과 활용법 이해",
      "효율적인 코드 작성을 위한 반복 구조 학습",
      "정해진 횟수만큼 실행하는 제한된 반복의 이해",
      "복잡한 작업을 간단한 반복으로 분해하는 사고력 향상"
    ],
    "key_concepts": [
      {
        "concept": "반복문(Loop)",
        "explanation": "같은 동작을 여러 번 반복할 때 사용하는 프로그래밍 구조"
      },
      {
        "concept": "반복 횟수",
        "explanation": "몇 번 반복할지를 정하는 숫자로, 반복문의 실행 범위를 결정"
      },
      {
        "concept": "반복 몸체",
        "explanation": "반복할 때마다 실행되는 블록들의 집합"
      },
      {
        "concept": "유한 반복",
        "explanation": "정해진 횟수만큼만 반복하고 자동으로 끝나는 반복"
      }
    ],
    "difficulty_level": "초급",
    "prerequisites": ["Entry 기본 인터페이스 이해", "블록 연결 방법 숙지", "시작 블록 사용법"]
  },

  "usage_examples": [
    {
      "title": "기본 사용법",
      "description": "캐릭터가 3번 점프하는 프로그램",
      "blocks": [
        "when_run_button_click",
        "repeat_basic(3)",
        "change_y(30)",
        "wait_second(0.3)",
        "change_y(-30)",
        "wait_second(0.3)"
      ],
      "explanation": "3번 반복하기 블록 안에 y좌표 변경과 기다리기 블록을 넣어서 캐릭터가 3번 점프합니다."
    },
    {
      "title": "그림 그리기",
      "description": "정사각형 그리기",
      "blocks": ["when_run_button_click", "pen_down", "repeat_basic(4)", "move_direction(100)", "rotate_by_angle(90)"],
      "explanation": "4번 반복하여 앞으로 이동하고 90도 회전하는 동작을 반복해서 정사각형을 그립니다."
    },
    {
      "title": "복합 활용",
      "description": "계단 오르기 애니메이션",
      "blocks": ["when_run_button_click", "repeat_basic(5)", "move_direction(20)", "change_y(15)", "wait_second(0.5)"],
      "explanation": "5번 반복하여 오른쪽으로 이동하면서 위로 올라가는 동작으로 계단 오르는 모습을 표현합니다."
    }
  ],

  "progressive_hints": [
    {
      "situation": "캐릭터를 여러 번 점프시키고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "같은 동작을 여러 번 해야 할 때는 '흐름' 카테고리를 살펴보세요"
        },
        {
          "step": 2,
          "hint_type": "block_type",
          "content": "반복과 관련된 블록을 찾아보세요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "'n번 반복하기' 블록을 사용해보세요"
        }
      ]
    },
    {
      "situation": "정사각형을 그리고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "같은 크기의 변을 4번 그으려면 '흐름' 카테고리를 확인하세요"
        },
        {
          "step": 2,
          "hint_type": "concept",
          "content": "앞으로 가기 → 90도 회전하기를 4번 반복하면 됩니다"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "'4번 반복하기' 블록 안에 이동과 회전 블록을 넣어보세요"
        }
      ]
    },
    {
      "situation": "계단을 오르는 애니메이션을 만들고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "반복적인 동작을 만들려면 '흐름' 카테고리를 사용하세요"
        },
        {
          "step": 2,
          "hint_type": "concept",
          "content": "오른쪽으로 이동 → 위로 이동 → 잠깐 기다리기를 여러 번 반복해보세요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "원하는 계단 수만큼 'n번 반복하기' 블록을 설정하세요"
        }
      ]
    }
  ],

  "common_mistakes": [
    {
      "mistake": "반복 횟수를 너무 크게 설정",
      "why_it_happens": "반복의 결과를 예상하지 못하고 임의로 큰 수를 입력",
      "consequence": "프로그램이 너무 오래 실행되거나 화면이 복잡해짐",
      "solution": "작은 수부터 시작해서 원하는 결과가 나올 때까지 점차 조정",
      "teaching_moment": "요리할 때 간을 조금씩 맞춰가는 것처럼, 프로그래밍도 조금씩 테스트하면서 완성해가요."
    },
    {
      "mistake": "반복문 안에 블록을 연결하지 않음",
      "why_it_happens": "반복문의 구조와 블록 연결 방법에 대한 이해 부족",
      "consequence": "반복문이 실행되지만 아무 동작도 일어나지 않음",
      "solution": "반복문은 '감싸는' 블록이라는 점을 강조하고, 안쪽에 실행할 블록들을 배치",
      "teaching_moment": "상자 안에 물건을 넣어야 하는 것처럼, 반복문 안에도 실행할 명령들을 넣어야 해요."
    },
    {
      "mistake": "반복문 밖에서 결과를 확인하려고 함",
      "why_it_happens": "반복 실행 과정에 대한 이해 부족",
      "consequence": "중간 과정을 놓치고 최종 결과만 보게 됨",
      "solution": "반복 과정을 천천히 관찰할 수 있도록 기다리기 블록 활용",
      "teaching_moment": "영화를 빨리 감기로 보면 스토리를 놓치는 것처럼, 반복도 천천히 보면서 과정을 이해해야 해요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "블록 찾기",
      "instruction": "블록 팔레트에서 '흐름' 카테고리를 클릭하세요.",
      "visual_hint": "주황색 화살표 모양의 아이콘을 찾아보세요."
    },
    {
      "step": 2,
      "title": "반복 블록 선택",
      "instruction": "'n번 반복하기' 블록을 찾아 클릭하세요.",
      "visual_hint": "원형 화살표와 숫자 입력칸이 있는 블록이에요."
    },
    {
      "step": 3,
      "title": "작업 영역에 배치",
      "instruction": "블록을 드래그해서 작업 영역으로 가져와 시작 블록 아래에 연결하세요.",
      "visual_hint": "블록이 자석처럼 딱 붙어요."
    },
    {
      "step": 4,
      "title": "반복 횟수 설정",
      "instruction": "반복 블록의 숫자 입력칸에 원하는 반복 횟수를 입력하세요.",
      "visual_hint": "기본값은 10이지만 자유롭게 바꿀 수 있어요."
    },
    {
      "step": 5,
      "title": "반복할 블록 추가",
      "instruction": "반복하고 싶은 동작 블록들을 반복 블록 안쪽에 배치하세요.",
      "visual_hint": "반복 블록이 다른 블록들을 감싸는 모양이 되어야 해요."
    },
    {
      "step": 6,
      "title": "실행 및 확인",
      "instruction": "시작 버튼을 클릭해서 반복이 잘 되는지 확인하세요.",
      "visual_hint": "설정한 횟수만큼 동작이 반복되는지 세어보세요."
    }
  ],

  "related_blocks": [
    {
      "block_id": "repeat_inf",
      "relationship": "무한 반복",
      "explanation": "횟수 제한 없이 계속 반복할 때 사용"
    },
    {
      "block_id": "repeat_until_true",
      "relationship": "조건부 반복",
      "explanation": "특정 조건이 만족될 때까지 반복"
    },
    {
      "block_id": "wait_second",
      "relationship": "반복 제어",
      "explanation": "반복 속도를 조절하기 위해 함께 사용"
    },
    {
      "block_id": "stop_repeat",
      "relationship": "반복 제어",
      "explanation": "반복을 중간에 멈추고 싶을 때 사용"
    }
  ],

  "debugging_tips": [
    {
      "problem": "반복은 되는데 너무 빨라서 과정을 볼 수 없어요",
      "possible_causes": ["기다리기 블록이 없어서 동작이 즉시 실행됨", "반복 속도가 너무 빠름"],
      "solutions": [
        "반복문 안에 '기다리기' 블록을 추가하세요",
        "기다리는 시간을 0.5초나 1초 정도로 설정해보세요",
        "반복 횟수를 줄여서 천천히 관찰해보세요"
      ]
    },
    {
      "problem": "반복 횟수를 바꿔도 결과가 같아요",
      "possible_causes": ["반복문 안의 블록이 누적되지 않는 동작임", "이전 실행 결과가 초기화되지 않음"],
      "solutions": [
        "반복할 때마다 변화가 생기는 동작인지 확인하세요",
        "위치나 크기 등이 변하는 블록을 사용해보세요",
        "프로그램을 다시 시작해보세요"
      ]
    }
  ],

  "real_world_connections": [
    {
      "analogy": "운동 루틴",
      "explanation": "헬스장에서 팔굽혀펴기를 10번 하는 것처럼, 같은 동작을 정해진 횟수만큼 반복합니다."
    },
    {
      "analogy": "계단 오르기",
      "explanation": "한 층씩 계단을 오르는 동작을 여러 번 반복해서 목적 층에 도달하는 것과 같습니다."
    },
    {
      "analogy": "공장 생산라인",
      "explanation": "같은 제품을 정해진 개수만큼 만드는 공장처럼, 동일한 작업을 여러 번 수행합니다."
    }
  ],

  "extensions_and_variations": [
    {
      "concept": "중첩 반복문",
      "description": "반복문 안에 또 다른 반복문을 넣어서 더 복잡한 패턴 만들기",
      "use_case": "바둑판 무늬, 구구단 표, 다층 건물 그리기"
    },
    {
      "concept": "변수와 반복문",
      "description": "반복할 때마다 변수 값을 변경하여 다양한 결과 생성",
      "use_case": "점점 커지는 원 그리기, 색깔이 바뀌는 애니메이션"
    },
    {
      "concept": "조건과 반복문",
      "description": "반복문과 조건문을 결합하여 선택적 실행",
      "use_case": "짝수 번째만 다른 동작, 특정 조건에서만 실행되는 반복"
    }
  ],

  "assessment_criteria": [
    {
      "level": "기초",
      "criteria": "반복문을 사용해서 같은 동작을 여러 번 실행할 수 있다",
      "example": "캐릭터를 5번 점프시키기"
    },
    {
      "level": "중급",
      "criteria": "반복 횟수를 상황에 맞게 조절하고 적절한 동작을 반복할 수 있다",
      "example": "정다각형 그리기 (변의 개수에 맞는 반복 횟수 설정)"
    },
    {
      "level": "고급",
      "criteria": "중첩 반복문이나 조건문과 결합하여 복잡한 패턴을 만들 수 있다",
      "example": "계단식 패턴이나 그라데이션 효과 만들기"
    }
  ]
}
