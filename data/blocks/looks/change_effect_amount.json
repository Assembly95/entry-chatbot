{
  "id": "change_effect_amount",
  "category": "looks",
  "name": "효과 값 바꾸기",
  "description": "오브젝트의 특정 그래픽 효과 값을 현재 값에서 지정한 만큼 변경하는 블록입니다. add_effect_amount와 동일한 기능으로, 색깔, 밝기, 투명도 등의 효과를 상대적으로 증가시키거나 감소시킬 때 사용합니다.",

  "educational_context": {
    "learning_objectives": [
      "그래픽 효과의 상대적 변경 방법 이해",
      "점진적 시각 효과 구현 기법 학습",
      "효과 값의 누적과 변화 패턴 이해",
      "애니메이션을 위한 효과 제어 방법 습득",
      "동적 시각 피드백 시스템 구축"
    ],
    "key_concepts": [
      {
        "concept": "상대적 변경",
        "explanation": "현재 효과 값을 기준으로 더하거나 빼서 변경하는 방식으로, 누적 효과를 만듭니다."
      },
      {
        "concept": "변화량 (Delta)",
        "explanation": "한 번에 변경할 효과의 양으로, 양수는 증가, 음수는 감소를 의미합니다."
      },
      {
        "concept": "효과 범위 제한",
        "explanation": "각 효과는 최소/최대 범위가 있으며, 범위를 벗어나면 자동으로 제한됩니다."
      },
      {
        "concept": "부드러운 전환",
        "explanation": "작은 변화량을 연속적으로 적용하여 자연스러운 시각적 전환을 만듭니다."
      }
    ],
    "difficulty_level": "초중급",
    "prerequisites": ["그래픽 효과 종류 이해", "변수 값 변경 개념", "반복문 활용 능력", "기본 애니메이션 원리"]
  },

  "usage_examples": [
    {
      "title": "호흡 애니메이션",
      "description": "크기와 투명도를 주기적으로 변경하는 호흡 효과",
      "blocks": [
        "when_run_button_click",
        "clear_effect()",
        "repeat_while_true",
        "  // 들숨 - 커지고 진해짐",
        "  repeat_basic(20)",
        "    change_effect_amount('transparency', -2)",
        "    change_size(1)",
        "    wait_second(0.05)",
        "  ",
        "  // 날숨 - 작아지고 흐려짐",
        "  repeat_basic(20)",
        "    change_effect_amount('transparency', 2)",
        "    change_size(-1)",
        "    wait_second(0.05)"
      ],
      "explanation": "투명도와 크기를 주기적으로 변경하여 숨쉬는 듯한 효과를 만듭니다."
    },
    {
      "title": "네온 효과",
      "description": "색상과 밝기를 변경하여 네온사인 효과 구현",
      "blocks": [
        "when_run_button_click",
        "set_effect('brightness', 0)",
        "set_effect('color', 0)",
        "",
        "repeat_while_true",
        "  // 밝기 증가와 색상 변화",
        "  repeat_basic(50)",
        "    change_effect_amount('brightness', 2)",
        "    change_effect_amount('color', 7.2)",
        "    wait_second(0.02)",
        "  ",
        "  // 깜빡임 효과",
        "  repeat_basic(3)",
        "    set_effect('brightness', -50)",
        "    wait_second(0.1)",
        "    set_effect('brightness', 100)",
        "    wait_second(0.1)",
        "  ",
        "  // 밝기 감소",
        "  repeat_basic(50)",
        "    change_effect_amount('brightness', -2)",
        "    wait_second(0.02)"
      ],
      "explanation": "밝기와 색상을 동시에 변경하여 네온사인 같은 효과를 만듭니다."
    },
    {
      "title": "데미지 표시 시스템",
      "description": "피해량에 따른 시각적 피드백",
      "blocks": [
        "when_run_button_click",
        "set_variable('체력', 100)",
        "clear_effect()",
        "",
        "when_message_cast('작은데미지')",
        "// 약한 피격 효과",
        "repeat_basic(2)",
        "  change_effect_amount('brightness', 30)",
        "  wait_second(0.05)",
        "  change_effect_amount('brightness', -30)",
        "  wait_second(0.05)",
        "change_variable('체력', -10)",
        "",
        "when_message_cast('큰데미지')",
        "// 강한 피격 효과",
        "repeat_basic(5)",
        "  change_effect_amount('color', 50)",
        "  change_effect_amount('brightness', -20)",
        "  wait_second(0.03)",
        "  change_effect_amount('color', -50)",
        "  change_effect_amount('brightness', 20)",
        "  wait_second(0.03)",
        "change_variable('체력', -30)",
        "",
        "// 체력에 따른 지속 효과",
        "when_run_button_click",
        "repeat_while_true",
        "  if_condition(<get_variable('체력') < 30>)",
        "    // 위험 상태 - 빨간색 맥동",
        "    change_effect_amount('color', 5)",
        "    wait_second(0.1)",
        "    change_effect_amount('color', -5)",
        "    wait_second(0.1)"
      ],
      "explanation": "데미지 크기와 체력 상태에 따라 다른 시각 효과를 적용합니다."
    },
    {
      "title": "환경 조명 효과",
      "description": "시간대에 따른 조명 변화",
      "blocks": [
        "when_run_button_click",
        "set_variable('시간', 6)",
        "clear_effect()",
        "",
        "repeat_while_true",
        "  // 아침 (6시-12시)",
        "  repeat_basic(60)",
        "    change_effect_amount('brightness', 1.5)",
        "    change_effect_amount('color', 0.5)",
        "    change_variable('시간', 0.1)",
        "    wait_second(0.1)",
        "  ",
        "  // 낮 (12시-18시)",
        "  repeat_basic(60)",
        "    change_variable('시간', 0.1)",
        "    wait_second(0.1)",
        "  ",
        "  // 저녁 (18시-24시)",
        "  repeat_basic(60)",
        "    change_effect_amount('brightness', -1.5)",
        "    change_effect_amount('color', 2)",
        "    change_variable('시간', 0.1)",
        "    wait_second(0.1)",
        "  ",
        "  // 밤 (0시-6시)",
        "  set_effect('brightness', -60)",
        "  set_effect('color', 180)",
        "  wait_second(6)",
        "  set_variable('시간', 6)"
      ],
      "explanation": "시간의 흐름에 따라 밝기와 색상을 변경하여 하루 주기를 표현합니다."
    },
    {
      "title": "마우스 추적 효과",
      "description": "마우스 위치에 따른 동적 효과 변화",
      "blocks": [
        "when_run_button_click",
        "clear_effect()",
        "",
        "repeat_while_true",
        "  // 마우스와의 거리 계산",
        "  set_variable('거리', <distance_to_mouse()>)",
        "  ",
        "  // 거리에 따른 투명도 조절",
        "  if_condition(<get_variable('거리') < 100>)",
        "    change_effect_amount('transparency', -5)",
        "  else_if(<get_variable('거리') > 150>)",
        "    change_effect_amount('transparency', 5)",
        "  ",
        "  // 투명도 범위 제한",
        "  if_condition(<get_effect('transparency') < 0>)",
        "    set_effect('transparency', 0)",
        "  else_if(<get_effect('transparency') > 80>)",
        "    set_effect('transparency', 80)",
        "  ",
        "  // 마우스 방향에 따른 색상 변화",
        "  set_variable('각도', <direction_to_mouse()>)",
        "  change_effect_amount('color', <calc_operation(<get_variable('각도')>, '/', 36)>)",
        "  ",
        "  wait_second(0.05)"
      ],
      "explanation": "마우스 위치와 거리에 따라 투명도와 색상이 동적으로 변화합니다."
    }
  ],

  "progressive_hints": [
    {
      "situation": "효과를 조금씩 변화시키고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "'생김새' 카테고리에서 효과 관련 블록을 찾아보세요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "'효과 값 바꾸기' 블록을 선택하세요"
        },
        {
          "step": 3,
          "hint_type": "concept",
          "content": "양수는 증가, 음수는 감소시켜요"
        }
      ]
    },
    {
      "situation": "부드러운 애니메이션을 만들고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "작은 변화량을 여러 번 반복하면 부드러워요"
        },
        {
          "step": 2,
          "hint_type": "category",
          "content": "반복 블록과 대기 블록을 함께 사용하세요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "repeat 안에서 change_effect_amount와 wait을 조합하세요"
        }
      ]
    },
    {
      "situation": "효과가 너무 강하거나 약해요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "변화량을 조절하거나 반복 횟수를 변경하세요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "set_effect로 초기값을 설정한 후 시작하세요"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "효과 범위(-100~100)를 고려하여 값을 조정하세요"
        }
      ]
    }
  ],

  "common_mistakes": [
    {
      "mistake": "효과가 계속 누적됨",
      "why_it_happens": "초기화 없이 계속 더하기만 함",
      "consequence": "효과가 최대/최소값에 도달 후 변화 없음",
      "solution": "주기적으로 초기화하거나 반대 방향 변경 추가",
      "teaching_moment": "효과는 범위가 있어서 계속 더하면 한계에 도달해요."
    },
    {
      "mistake": "변화가 눈에 띄지 않음",
      "why_it_happens": "너무 작은 변화량 사용",
      "consequence": "효과가 작동하지 않는 것처럼 보임",
      "solution": "변화량을 늘리거나 반복 횟수 증가",
      "teaching_moment": "최소 5~10 정도는 변경해야 눈에 보여요."
    },
    {
      "mistake": "깜빡거리는 효과",
      "why_it_happens": "너무 큰 변화량을 빠르게 적용",
      "consequence": "부자연스러운 애니메이션",
      "solution": "변화량을 줄이고 대기 시간 조정",
      "teaching_moment": "작은 변화를 자주 하면 부드럽고, 큰 변화를 가끔 하면 끊겨요."
    },
    {
      "mistake": "여러 효과가 충돌",
      "why_it_happens": "동시에 여러 효과를 제어",
      "consequence": "예상과 다른 시각적 결과",
      "solution": "효과별로 개별 테스트 후 조합",
      "teaching_moment": "효과들은 서로 영향을 줄 수 있으니 하나씩 테스트하세요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "생김새 카테고리 선택",
      "instruction": "블록 팔레트에서 보라색 '생김새' 카테고리를 클릭하세요.",
      "visual_hint": "붓 모양 아이콘이 있는 카테고리입니다."
    },
    {
      "step": 2,
      "title": "change_effect_amount 블록 추가",
      "instruction": "'효과 값 바꾸기' 블록을 작업 영역으로 드래그하세요.",
      "visual_hint": "효과 선택과 숫자 입력이 가능한 블록입니다."
    },
    {
      "step": 3,
      "title": "효과 종류 선택",
      "instruction": "드롭다운 메뉴에서 원하는 효과를 선택하세요.",
      "visual_hint": "색깔, 밝기, 투명도 등을 선택할 수 있습니다."
    },
    {
      "step": 4,
      "title": "변화량 설정",
      "instruction": "증가시킬 양(양수) 또는 감소시킬 양(음수)을 입력하세요.",
      "visual_hint": "5~20 사이의 값이 적당합니다."
    },
    {
      "step": 5,
      "title": "반복 구조 추가",
      "instruction": "반복문과 대기를 추가하여 점진적 변화를 만드세요.",
      "visual_hint": "repeat와 wait_second를 조합합니다."
    }
  ],

  "related_blocks": [
    {
      "block_id": "add_effect_amount",
      "relationship": "동일 기능",
      "explanation": "같은 기능의 다른 이름 블록"
    },
    {
      "block_id": "set_effect",
      "relationship": "절대값 설정",
      "explanation": "효과를 특정 값으로 직접 설정"
    },
    {
      "block_id": "clear_effect",
      "relationship": "효과 제거",
      "explanation": "모든 효과를 초기화"
    },
    {
      "block_id": "get_effect",
      "relationship": "효과 값 확인",
      "explanation": "현재 효과 값을 가져옴"
    },
    {
      "block_id": "change_transparency",
      "relationship": "투명도 변경",
      "explanation": "투명도만 변경하는 전용 블록"
    },
    {
      "block_id": "repeat_while_true",
      "relationship": "무한 반복",
      "explanation": "지속적인 효과 변화에 사용"
    }
  ],

  "debugging_tips": [
    {
      "problem": "효과 변화가 보이지 않아요",
      "possible_causes": ["이미 최대/최소값 도달", "너무 작은 변화량", "효과 이름 선택 오류"],
      "solutions": ["clear_effect()로 초기화", "변화량 증가 (10 이상)", "효과 이름 재확인"]
    },
    {
      "problem": "효과가 즉시 최대가 돼요",
      "possible_causes": ["변화량이 너무 큼", "반복이 너무 많음", "대기 시간이 없음"],
      "solutions": ["변화량 감소", "반복 횟수 조정", "wait_second 추가"]
    },
    {
      "problem": "효과가 원래대로 돌아오지 않아요",
      "possible_causes": ["역방향 변경 누락", "초기값 저장 안 함", "누적 오차"],
      "solutions": ["반대 부호로 같은 양 변경", "set_effect로 원래값 복원", "clear_effect() 사용"]
    }
  ],

  "real_world_connections": [
    {
      "analogy": "자동차 가속",
      "explanation": "액셀을 밟으면 속도가 점점 증가하는 것과 같은 원리입니다."
    },
    {
      "analogy": "온도 조절기",
      "explanation": "온도를 1도씩 올리거나 내리는 것과 비슷합니다."
    },
    {
      "analogy": "볼륨 다이얼",
      "explanation": "음량을 조금씩 돌려 조절하는 것과 같은 방식입니다."
    },
    {
      "analogy": "페인트 덧칠",
      "explanation": "페인트를 여러 번 덧칠하면 색이 진해지는 것과 같습니다."
    }
  ],

  "extensions_and_variations": [
    {
      "concept": "진동 효과",
      "description": "양수와 음수를 빠르게 교체하여 진동 효과 생성",
      "use_case": "지진 효과, 충격파, 진동 알림"
    },
    {
      "concept": "펄스 효과",
      "description": "주기적인 증감으로 맥동하는 효과",
      "use_case": "심장박동, 경고등, 에너지 파동"
    },
    {
      "concept": "그라데이션 전환",
      "description": "여러 효과를 단계적으로 변화시켜 그라데이션 생성",
      "use_case": "일출 효과, 무지개 전환, 분위기 변화"
    },
    {
      "concept": "반응형 효과",
      "description": "입력이나 상황에 따라 동적으로 효과 변경",
      "use_case": "인터랙티브 아트, 음악 시각화, 센서 피드백"
    }
  ],

  "assessment_criteria": [
    {
      "level": "기초",
      "criteria": "change_effect_amount로 단순한 효과 변화를 만들 수 있다",
      "example": "밝기 증감, 투명도 조절, 색상 변경"
    },
    {
      "level": "중급",
      "criteria": "반복과 조합하여 애니메이션 효과를 구현할 수 있다",
      "example": "페이드 효과, 깜빡임, 색상 순환"
    },
    {
      "level": "고급",
      "criteria": "복잡한 시각 효과와 인터랙션을 설계할 수 있다",
      "example": "환경 효과, 동적 피드백, 복합 애니메이션"
    }
  ]
}
