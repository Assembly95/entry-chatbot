{
  "id": "when_scene_start",
  "category": "start",
  "name": "장면이 시작되었을 때",
  "description": "새로운 장면으로 전환되어 해당 장면이 시작될 때 자동으로 실행되는 이벤트 블록입니다. 장면별로 다른 초기화 작업이나 설정을 수행할 때 사용합니다.",

  "educational_context": {
    "learning_objectives": ["장면 기반 프로그램 구조 이해", "자동 초기화 시스템 학습", "상태 관리와 전환 메커니즘 습득"],
    "key_concepts": [
      {
        "concept": "장면(Scene)",
        "explanation": "프로그램의 독립적인 화면이나 단계로, 게임의 레벨이나 앱의 페이지와 같은 개념"
      },
      {
        "concept": "자동 실행",
        "explanation": "사용자의 별도 조작 없이 장면 전환과 동시에 자동으로 시작되는 동작"
      },
      {
        "concept": "장면 초기화",
        "explanation": "새로운 장면에서 필요한 초기 설정, 오브젝트 배치, 변수 초기화 등을 수행하는 것"
      },
      {
        "concept": "상태 전환",
        "explanation": "프로그램이 한 상태에서 다른 상태로 변경되면서 발생하는 일련의 과정"
      }
    ],
    "difficulty_level": "중급",
    "prerequisites": ["장면 개념과 장면 전환 이해", "기본 이벤트 블록 사용법", "변수와 상태 관리 기초"]
  },

  "usage_examples": [
    {
      "title": "게임 레벨 초기화",
      "description": "새 레벨이 시작될 때 플레이어와 적들의 초기 위치 설정",
      "blocks": ["when_scene_start", "go_to_xy(-200, 0)", "set_variable('hp', 100)", "set_variable('score', 0)", "show()"],
      "explanation": "레벨이 시작되면 플레이어를 왼쪽에 배치하고 체력과 점수를 초기화한 후 화면에 표시합니다."
    },
    {
      "title": "배경음악과 환경 설정",
      "description": "장면마다 다른 배경음악과 환경 효과 적용",
      "blocks": ["when_scene_start", "play_bgm('숲속음악')", "change_scene_background('숲배경')", "set_effect('brightness', 80)"],
      "explanation": "숲 장면이 시작되면 숲속 음악을 재생하고 배경을 바꾸며 밝기를 조절합니다."
    },
    {
      "title": "스토리 진행과 대화",
      "description": "스토리 장면에서 자동으로 대화나 설명 시작",
      "blocks": [
        "when_scene_start",
        "wait_second(1)",
        "speak_something('새로운 모험이 시작됩니다!')",
        "wait_second(3)",
        "speak_something('용기를 내어 앞으로 가보세요!')"
      ],
      "explanation": "스토리 장면이 시작되면 잠시 후 자동으로 대화가 진행됩니다."
    }
  ],

  "socratic_questions": [
    {
      "level": "이해",
      "question": "장면이 시작될 때 자동 실행과 시작 버튼 클릭 실행의 차이점은 무엇인가요?",
      "purpose": "자동 실행과 수동 실행의 구분 이해",
      "follow_up": "각각을 언제 사용하는 것이 더 적절할까요?"
    },
    {
      "level": "분석",
      "question": "한 장면에 여러 오브젝트가 있고 모두 '장면이 시작되었을 때' 블록을 가진다면 어떤 순서로 실행될까요?",
      "purpose": "동시 실행과 실행 순서에 대한 이해",
      "follow_up": "실행 순서가 중요한 경우에는 어떻게 해야 할까요?"
    },
    {
      "level": "적용",
      "question": "교육용 퀴즈 게임을 만든다면 각 문제 장면에서 이 블록을 어떻게 활용할 수 있을까요?",
      "purpose": "실제 교육 애플리케이션에서의 활용 방안 탐색",
      "follow_up": "문제별로 다른 설정이나 힌트를 제공하려면 어떻게 설계해야 할까요?"
    }
  ],

  "common_mistakes": [
    {
      "mistake": "모든 장면에서 같은 초기화 코드 반복",
      "why_it_happens": "장면별 특성을 고려하지 않고 일괄적으로 같은 설정 적용",
      "consequence": "각 장면의 고유한 특성이 나타나지 않아 단조로운 경험",
      "solution": "각 장면의 목적과 특성에 맞는 개별적인 초기화 설계",
      "teaching_moment": "각 방마다 다른 분위기와 용도가 있는 것처럼, 각 장면도 고유한 설정이 필요해요."
    },
    {
      "mistake": "장면 전환 시 이전 상태 정리 누락",
      "why_it_happens": "새로운 설정만 생각하고 이전 장면의 잔여 효과를 고려하지 않음",
      "consequence": "이전 장면의 음악, 효과, 변수 등이 그대로 남아서 혼란",
      "solution": "장면 시작 시 필요한 초기화와 정리 작업을 모두 포함",
      "teaching_moment": "새 옷을 입기 전에 기존 옷을 벗는 것처럼, 새 장면도 깨끗하게 시작해야 해요."
    },
    {
      "mistake": "너무 복잡한 초기화 작업 수행",
      "why_it_happens": "장면 시작과 동시에 모든 것을 한번에 설정하려고 시도",
      "consequence": "장면 전환이 느려지고 사용자가 기다려야 함",
      "solution": "필수적인 것만 즉시 초기화하고 나머지는 점진적으로 설정",
      "teaching_moment": "파티 준비를 모두 손님이 오기 전에 할 필요는 없어요. 기본만 준비하고 나머지는 진행하면서 해도 돼요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "장면별 역할 정의",
      "instruction": "각 장면이 어떤 목적과 특성을 가져야 하는지 먼저 계획하세요.",
      "visual_hint": "게임 레벨, 메뉴 화면, 스토리 장면 등 역할을 명확히 구분하세요."
    },
    {
      "step": 2,
      "title": "초기화 대상 오브젝트 선택",
      "instruction": "해당 장면에서 초기화가 필요한 오브젝트를 선택하세요.",
      "visual_hint": "플레이어, UI 요소, 배경 오브젝트 등을 고려하세요."
    },
    {
      "step": 3,
      "title": "시작 카테고리 선택",
      "instruction": "블록 팔레트에서 '시작' 카테고리를 클릭하세요.",
      "visual_hint": "초록색 깃발 아이콘이 있는 카테고리입니다."
    },
    {
      "step": 4,
      "title": "장면 시작 블록 찾기",
      "instruction": "'장면이 시작되었을 때' 블록을 찾아 클릭하세요.",
      "visual_hint": "장면이나 화면 전환을 나타내는 아이콘이 있는 블록입니다."
    },
    {
      "step": 5,
      "title": "작업 영역에 배치",
      "instruction": "블록을 드래그해서 해당 오브젝트의 작업 영역으로 가져오세요.",
      "visual_hint": "각 오브젝트마다 개별적으로 장면 시작 블록을 설정할 수 있습니다."
    },
    {
      "step": 6,
      "title": "초기화 블록들 연결",
      "instruction": "장면이 시작될 때 실행할 초기화 블록들을 아래에 연결하세요.",
      "visual_hint": "위치 설정, 변수 초기화, 모양 변경, 효과 적용 등을 연결하세요."
    },
    {
      "step": 7,
      "title": "장면 전환 테스트",
      "instruction": "다른 장면에서 해당 장면으로 전환해보며 초기화가 제대로 되는지 확인하세요.",
      "visual_hint": "'장면 시작하기' 블록을 사용해서 장면 전환을 테스트할 수 있습니다."
    }
  ],

  "related_blocks": [
    {
      "block_id": "start_scene",
      "relationship": "장면 전환 실행",
      "explanation": "특정 장면으로 전환하여 이 블록을 실행시키는 블록"
    },
    {
      "block_id": "start_neighbor_scene",
      "relationship": "다음 장면 전환",
      "explanation": "순서상 다음 장면으로 전환하는 블록"
    },
    {
      "block_id": "when_run_button_click",
      "relationship": "프로그램 전체 시작",
      "explanation": "첫 번째 장면에서 프로그램 전체를 시작하는 블록"
    },
    {
      "block_id": "when_message_cast",
      "relationship": "신호 기반 시작",
      "explanation": "신호를 받아서 동작을 시작하는 다른 방식의 이벤트"
    }
  ],

  "debugging_tips": [
    {
      "problem": "장면이 바뀌어도 블록이 실행되지 않아요",
      "possible_causes": [
        "해당 장면에 설정된 오브젝트가 없거나 비활성화됨",
        "장면 전환이 제대로 이루어지지 않음",
        "블록이 다른 장면에 설정되어 있음",
        "장면 시작 블록 아래에 실행할 블록이 연결되지 않음"
      ],
      "solutions": [
        "해당 장면에 오브젝트가 있고 활성화되어 있는지 확인하세요",
        "장면 전환 블록이 올바른 장면 이름을 사용하는지 확인하세요",
        "올바른 장면의 오브젝트에 블록이 설정되어 있는지 확인하세요",
        "장면 시작 블록 아래에 실행할 블록들이 연결되어 있는지 확인하세요"
      ]
    },
    {
      "problem": "장면 전환이 너무 느려요",
      "possible_causes": [
        "장면 시작 시 너무 많은 초기화 작업 수행",
        "복잡한 계산이나 오래 걸리는 동작 포함",
        "여러 오브젝트에서 동시에 무거운 작업 실행"
      ],
      "solutions": [
        "필수적인 초기화만 즉시 수행하고 나머지는 나중에 처리하세요",
        "복잡한 작업은 여러 프레임에 나누어서 처리하세요",
        "무거운 작업은 시간차를 두고 순차적으로 실행하세요"
      ]
    }
  ],

  "real_world_connections": [
    {
      "analogy": "TV 채널 변경",
      "explanation": "TV 채널을 바꾸면 새로운 방송이 자동으로 시작되는 것처럼, 장면을 바꾸면 해당 장면의 내용이 자동으로 시작됩니다."
    },
    {
      "analogy": "연극의 막 전환",
      "explanation": "연극에서 막이 올라가면 배우들이 자동으로 연기를 시작하는 것처럼, 새 장면이 시작되면 모든 요소가 자동으로 활동합니다."
    },
    {
      "analogy": "게임 레벨 로딩",
      "explanation": "게임에서 새 레벨이 로딩되면 맵, 캐릭터, 음악 등이 자동으로 설정되는 것과 같습니다."
    }
  ],

  "extensions_and_variations": [
    {
      "concept": "조건부 장면 초기화",
      "description": "이전 장면의 결과나 플레이어 상태에 따라 다른 초기화 수행",
      "use_case": "플레이어의 레벨에 따라 다른 난이도로 스테이지 초기화"
    },
    {
      "concept": "점진적 장면 로딩",
      "description": "장면의 요소들을 순차적으로 나타나게 하여 자연스러운 전환 효과",
      "use_case": "배경부터 시작해서 캐릭터, UI 순으로 점진적으로 나타남"
    },
    {
      "concept": "장면 전환 애니메이션",
      "description": "장면 시작과 함께 전환 효과나 인트로 애니메이션 재생",
      "use_case": "페이드 인 효과나 슬라이드 애니메이션과 함께 장면 시작"
    }
  ],

  "scene_management_patterns": [
    {
      "pattern": "State Machine",
      "description": "각 장면을 상태로 보고 체계적으로 전환을 관리하는 패턴",
      "implementation": "메뉴 → 게임 → 결과 → 메뉴 순환 구조"
    },
    {
      "pattern": "Layered Scenes",
      "description": "기본 장면 위에 UI나 효과 장면을 레이어로 추가하는 방식",
      "implementation": "게임 장면 + UI 오버레이 + 팝업 레이어"
    },
    {
      "pattern": "Scene Hierarchy",
      "description": "부모-자식 관계로 장면을 구조화하여 상속과 재사용 활용",
      "implementation": "기본 게임 장면을 상속받는 여러 레벨 장면들"
    }
  ],

  "performance_optimization": [
    {
      "aspect": "지연 초기화",
      "description": "당장 필요하지 않은 요소는 나중에 초기화하여 장면 전환 속도 향상",
      "implementation": "핵심 요소만 즉시 로드하고 배경 요소는 점진적 로드"
    },
    {
      "aspect": "리소스 사전 로딩",
      "description": "장면 전환 전에 미리 필요한 리소스를 준비하여 끊김 없는 전환",
      "implementation": "이전 장면에서 다음 장면의 이미지나 음악을 미리 로드"
    },
    {
      "aspect": "메모리 관리",
      "description": "이전 장면의 불필요한 요소들을 정리하여 메모리 효율성 확보",
      "implementation": "장면 시작 시 이전 장면의 임시 변수나 효과 정리"
    }
  ],

  "accessibility_considerations": [
    {
      "issue": "급작스러운 장면 전환",
      "solution": "장면이 바뀔 때 충분한 시각적/청각적 안내 제공",
      "explanation": "갑작스러운 변화는 사용자에게 혼란을 줄 수 있어요"
    },
    {
      "issue": "장면별 일관성 부족",
      "solution": "모든 장면에서 일관된 조작 방법과 UI 배치 유지",
      "explanation": "장면이 바뀔 때마다 새로 배워야 한다면 사용하기 어려워요"
    }
  ]
}
