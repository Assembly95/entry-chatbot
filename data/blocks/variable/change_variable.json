{
  "id": "change_variable",
  "category": "variable",
  "name": "[변수]를 [값]만큼 바꾸기",
  "description": "변수의 현재 값에 지정한 값을 더하거나 빼는 블록입니다. 양수를 넣으면 증가하고, 음수를 넣으면 감소합니다. 점수, 생명, 카운터 등 숫자를 증감시킬 때 자주 사용합니다.",

  "educational_context": {
    "learning_objectives": [
      "변수값 증감 연산 이해",
      "상대적 값 변경과 절대적 값 설정의 차이 학습",
      "카운터와 누적 계산 구현 방법",
      "게임 메카닉스의 기본 요소 구현",
      "효율적인 변수 조작 기법 습득"
    ],
    "key_concepts": [
      {
        "concept": "증감 연산(Increment/Decrement)",
        "explanation": "현재 값을 기준으로 일정량을 더하거나 빼는 연산으로, 기존 값에 변화량을 적용"
      },
      {
        "concept": "상대적 변경(Relative Change)",
        "explanation": "현재 값에서 상대적으로 변경하는 방식으로, '정하기'와 달리 이전 값이 유지되며 누적됨"
      },
      {
        "concept": "누적 연산(Accumulation)",
        "explanation": "이전 값에 계속해서 값을 더해가는 과정으로, 합계나 카운터 구현의 핵심"
      },
      {
        "concept": "음수 증감",
        "explanation": "음수를 더하면 실제로는 감소 효과를 내며, -10만큼 바꾸기는 10을 빼는 것과 같음"
      }
    ],
    "difficulty_level": "초급",
    "prerequisites": ["변수 만들기와 사용법", "변수를 값으로 정하기 블록 이해", "기본적인 산술 연산 개념"]
  },

  "usage_examples": [
    {
      "title": "점수 시스템",
      "description": "게임에서 점수 증감 구현",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "점수 변수를 0으로 정하기",
        "",
        "이 오브젝트를 클릭했을 때",
        "점수 변수를 10만큼 바꾸기",
        "'10점 획득!' 1초 동안 말하기",
        "",
        "스페이스 키를 눌렀을 때",
        "점수 변수를 50만큼 바꾸기",
        "'보너스 50점!' 2초 동안 말하기",
        "",
        "[적]에 닿았을 때",
        "점수 변수를 -20만큼 바꾸기",
        "'20점 감점!' 1초 동안 말하기",
        "만약 (점수) < 0 라면",
        "  점수 변수를 0으로 정하기",
        "  '점수는 0 미만이 될 수 없습니다' 말하기"
      ],
      "explanation": "아이템을 클릭하면 점수가 증가하고, 적에 닿으면 감소하는 점수 시스템입니다."
    },
    {
      "title": "체력 관리",
      "description": "RPG 게임의 체력 증감",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "체력 변수를 100으로 정하기",
        "최대체력 변수를 100으로 정하기",
        "",
        "h 키를 눌렀을 때",
        "체력 변수를 30만큼 바꾸기",
        "'체력 회복! +30' 말하기",
        "만약 (체력) > (최대체력) 라면",
        "  체력 변수를 (최대체력)으로 정하기",
        "  '체력이 최대치입니다' 말하기",
        "",
        "d 키를 눌렀을 때",
        "체력 변수를 -15만큼 바꾸기",
        "'데미지! -15' 말하기",
        "만약 (체력) ≤ 0 라면",
        "  체력 변수를 0으로 정하기",
        "  '게임 오버!' 말하기",
        "  모든 코드 멈추기"
      ],
      "explanation": "체력을 회복하거나 데미지를 받을 때 체력을 증감시키는 시스템입니다."
    },
    {
      "title": "카운터 구현",
      "description": "클릭 횟수 세기",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "클릭횟수 변수를 0으로 정하기",
        "시간 변수를 10으로 정하기",
        "",
        "이 오브젝트를 클릭했을 때",
        "클릭횟수 변수를 1만큼 바꾸기",
        "크기를 110%로 정하기",
        "0.1초 기다리기",
        "크기를 100%로 정하기",
        "",
        "시작 버튼을 클릭했을 때",
        "(시간) > 0일 때까지 반복하기",
        "  1초 기다리기",
        "  시간 변수를 -1만큼 바꾸기",
        "'시간 종료! 총 ' + (클릭횟수) + '번 클릭했습니다!' 말하기"
      ],
      "explanation": "제한 시간 동안 클릭 횟수를 세는 카운터 시스템입니다."
    },
    {
      "title": "인벤토리 아이템 수량",
      "description": "아이템 개수 관리",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "금화 변수를 100으로 정하기",
        "포션개수 변수를 5로 정하기",
        "",
        "1 키를 눌렀을 때",
        "만약 (금화) ≥ 50 라면",
        "  금화 변수를 -50만큼 바꾸기",
        "  포션개수 변수를 1만큼 바꾸기",
        "  '포션을 구매했습니다! (남은 금화: ' + (금화) + ')' 말하기",
        "아니라면",
        "  '금화가 부족합니다!' 말하기",
        "",
        "2 키를 눌렀을 때",
        "만약 (포션개수) > 0 라면",
        "  포션개수 변수를 -1만큼 바꾸기",
        "  체력 변수를 50만큼 바꾸기",
        "  '포션을 사용했습니다! (남은 포션: ' + (포션개수) + ')' 말하기",
        "아니라면",
        "  '포션이 없습니다!' 말하기"
      ],
      "explanation": "상점에서 아이템을 사고 사용할 때 수량을 관리하는 시스템입니다."
    },
    {
      "title": "경험치와 레벨업",
      "description": "경험치 누적과 레벨 상승",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "레벨 변수를 1로 정하기",
        "경험치 변수를 0으로 정하기",
        "필요경험치 변수를 100으로 정하기",
        "",
        "[몬스터]에 닿았을 때",
        "경험치획득 변수를 (10)부터 (30)까지의 무작위 수로 정하기",
        "경험치 변수를 (경험치획득)만큼 바꾸기",
        "'경험치 +' + (경험치획득) 말하기",
        "",
        "만약 (경험치) ≥ (필요경험치) 라면",
        "  레벨 변수를 1만큼 바꾸기",
        "  경험치 변수를 (경험치) - (필요경험치)로 정하기",
        "  필요경험치 변수를 (필요경험치) × 1.5로 정하기",
        "  '레벨 업! 현재 레벨: ' + (레벨) 2초 동안 말하기"
      ],
      "explanation": "경험치를 누적하여 일정량이 되면 레벨이 오르는 RPG 시스템입니다."
    }
  ],

  "progressive_hints": [
    {
      "situation": "변수값이 증가하지 않아요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "'자료' 카테고리에서 변수 관련 블록을 찾아보세요"
        },
        {
          "step": 2,
          "hint_type": "concept",
          "content": "'바꾸기'는 현재 값에 더하고, '정하기'는 새로운 값으로 대체해요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "'[변수]를 [값]만큼 바꾸기' 블록을 사용했는지 확인하세요"
        }
      ]
    },
    {
      "situation": "변수를 감소시키고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "음수를 넣으면 값이 감소해요. -10만큼 바꾸기는 10을 빼는 것과 같아요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "'[변수]를 -[값]만큼 바꾸기' 형태로 사용하세요"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "또는 계산 블록으로 음수값을 만들어 사용할 수 있어요"
        }
      ]
    },
    {
      "situation": "특정 범위를 벗어나지 않게 하고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "변수를 바꾼 후 조건문으로 범위를 체크해야 해요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "'만약 (변수) > 최대값 라면' 조건으로 상한선 체크"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "범위를 벗어나면 '정하기' 블록으로 최대/최소값으로 재설정하세요"
        }
      ]
    }
  ],

  "common_mistakes": [
    {
      "mistake": "정하기와 바꾸기를 혼동",
      "why_it_happens": "두 블록의 차이를 명확히 이해하지 못함",
      "consequence": "값이 누적되지 않고 계속 같은 값이 됨",
      "solution": "정하기는 =, 바꾸기는 += 연산임을 이해",
      "teaching_moment": "통장 잔액을 10만원으로 '정하기'와 10만원을 '입금하기'의 차이와 같아요."
    },
    {
      "mistake": "음수 사용법을 모름",
      "why_it_happens": "양수만 사용할 수 있다고 생각",
      "consequence": "감소 기능을 구현하지 못함",
      "solution": "음수값을 사용하여 감소 효과 구현",
      "teaching_moment": "엘리베이터에서 -2층 버튼을 누르면 2층 내려가는 것과 같아요."
    },
    {
      "mistake": "초기값 설정 없이 바꾸기 사용",
      "why_it_happens": "변수의 초기값이 자동으로 0임을 모름",
      "consequence": "예상과 다른 계산 결과",
      "solution": "프로그램 시작 시 변수를 원하는 초기값으로 정하기",
      "teaching_moment": "계산기를 켜면 0부터 시작하는 것처럼, 변수도 초기값이 필요해요."
    },
    {
      "mistake": "범위 제한을 고려하지 않음",
      "why_it_happens": "변수가 무한정 증감할 수 있다고 생각",
      "consequence": "체력이 음수가 되거나 점수가 너무 커짐",
      "solution": "조건문으로 최대값과 최소값 제한",
      "teaching_moment": "용기에 물을 담을 때 넘치지 않도록 조절하는 것과 같아요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "변수 준비",
      "instruction": "먼저 사용할 변수를 만들고 초기값을 설정하세요.",
      "visual_hint": "자료 카테고리에서 '변수 만들기' 후 '정하기'로 초기값 설정"
    },
    {
      "step": 2,
      "title": "자료 카테고리 선택",
      "instruction": "블록 팔레트에서 '자료' 카테고리를 클릭하세요.",
      "visual_hint": "주황색 상자 모양 아이콘을 찾아보세요."
    },
    {
      "step": 3,
      "title": "바꾸기 블록 찾기",
      "instruction": "'[변수]를 [값]만큼 바꾸기' 블록을 찾아서 드래그하세요.",
      "visual_hint": "'바꾸기'라는 단어가 있는 블록이에요."
    },
    {
      "step": 4,
      "title": "변수 선택",
      "instruction": "드롭다운 메뉴에서 바꿀 변수를 선택하세요.",
      "visual_hint": "만들어둔 변수들이 목록에 표시돼요."
    },
    {
      "step": 5,
      "title": "변화량 입력",
      "instruction": "얼마나 바꿀지 숫자를 입력하세요. 음수도 가능해요.",
      "visual_hint": "10을 넣으면 증가, -10을 넣으면 감소해요."
    },
    {
      "step": 6,
      "title": "이벤트와 연결",
      "instruction": "언제 변수를 바꿀지 이벤트 블록과 연결하세요.",
      "visual_hint": "키 입력, 클릭, 충돌 등의 이벤트와 연결할 수 있어요."
    },
    {
      "step": 7,
      "title": "테스트",
      "instruction": "프로그램을 실행하여 변수값이 제대로 변하는지 확인하세요.",
      "visual_hint": "변수를 화면에 표시하면 실시간으로 변화를 볼 수 있어요."
    }
  ],

  "related_blocks": [
    {
      "block_id": "set_variable",
      "block_name": "[변수]를 [값]으로 정하기",
      "relationship": "절대값 설정",
      "explanation": "변수를 특정 값으로 직접 설정할 때 사용"
    },
    {
      "block_id": "get_variable",
      "block_name": "(변수명)",
      "relationship": "변수값 읽기",
      "explanation": "현재 변수값을 읽어서 사용할 때"
    },
    {
      "block_id": "show_variable",
      "block_name": "변수 [변수명] 보이기",
      "relationship": "변수 표시",
      "explanation": "화면에 변수값을 표시하여 확인"
    },
    {
      "block_id": "calc_basic",
      "block_name": "[값] [연산자] [값]",
      "relationship": "계산값 사용",
      "explanation": "바꿀 값을 계산으로 구할 때 사용"
    },
    {
      "block_id": "if_condition",
      "block_name": "만약 ~라면",
      "relationship": "범위 제한",
      "explanation": "변수값이 특정 범위를 벗어나지 않도록 제한"
    }
  ],

  "debugging_tips": [
    {
      "problem": "변수값이 변하지 않아요",
      "possible_causes": ["블록이 실행되지 않음", "0만큼 바꾸기를 사용", "정하기와 바꾸기를 혼동", "변수 이름을 잘못 선택"],
      "solutions": [
        "이벤트 블록과 연결 확인",
        "바꿀 값이 0이 아닌지 확인",
        "'바꾸기' 블록을 사용했는지 확인",
        "정확한 변수 이름 선택"
      ]
    },
    {
      "problem": "값이 너무 크거나 작아져요",
      "possible_causes": ["반복문에서 너무 자주 실행", "너무 큰 값으로 변경", "범위 제한이 없음"],
      "solutions": ["적절한 실행 조건 추가", "변화량을 적절히 조절", "최대값/최소값 제한 로직 추가"]
    },
    {
      "problem": "음수가 되면 안 되는데 음수가 돼요",
      "possible_causes": ["음수 체크를 하지 않음", "감소량이 현재값보다 큼"],
      "solutions": ["바꾸기 후 0 미만 체크 추가", "'만약 (변수) < 0 라면 0으로 정하기' 추가"]
    }
  ],

  "real_world_connections": [
    {
      "analogy": "은행 계좌 입출금",
      "explanation": "통장에 돈을 입금(+)하거나 출금(-)하는 것과 같은 방식입니다."
    },
    {
      "analogy": "엘리베이터 층수 이동",
      "explanation": "현재 층에서 위로(+) 또는 아래로(-) 이동하는 것과 같습니다."
    },
    {
      "analogy": "온도 조절",
      "explanation": "에어컨 온도를 현재보다 2도 올리거나 내리는 것과 유사합니다."
    },
    {
      "analogy": "장바구니 수량 조절",
      "explanation": "온라인 쇼핑에서 상품 수량을 +/- 버튼으로 조절하는 것과 같습니다."
    }
  ],

  "extensions_and_variations": [
    {
      "concept": "가속도 시스템",
      "description": "시간이 지날수록 변화량이 증가하는 시스템",
      "use_case": "중력 가속도, 속도 증가, 난이도 상승"
    },
    {
      "concept": "콤보 시스템",
      "description": "연속 성공 시 증가량이 배수로 늘어나는 시스템",
      "use_case": "리듬게임 콤보, 연속 적중 보너스"
    },
    {
      "concept": "자동 회복 시스템",
      "description": "시간에 따라 자동으로 값이 증가하는 시스템",
      "use_case": "체력 자동 회복, 스태미나 충전"
    },
    {
      "concept": "복리 계산 시스템",
      "description": "현재값의 일정 비율만큼 증가시키는 시스템",
      "use_case": "이자 계산, 경험치 배율, 인플레이션"
    }
  ],

  "assessment_criteria": [
    {
      "level": "기초",
      "criteria": "변수를 증가시키거나 감소시킬 수 있다",
      "example": "클릭할 때마다 점수 10점씩 증가"
    },
    {
      "level": "중급",
      "criteria": "조건에 따른 변수 증감과 범위 제한을 구현할 수 있다",
      "example": "체력이 0 미만이 되지 않도록 제한하는 시스템"
    },
    {
      "level": "고급",
      "criteria": "복잡한 변수 관리 시스템을 설계하고 구현할 수 있다",
      "example": "레벨, 경험치, 스탯이 연동되는 RPG 시스템"
    }
  ]
}
