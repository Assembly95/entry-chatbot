{
  "id": "set_variable",
  "category": "variable",
  "name": "[변수]를 [값]으로 정하기",
  "description": "변수에 새로운 값을 저장하는 블록입니다. 기존 값은 사라지고 새 값으로 완전히 대체됩니다. 숫자, 텍스트, 참/거짓 등 다양한 타입의 값을 저장할 수 있으며, 프로그래밍의 가장 기본적인 블록 중 하나입니다.",

  "educational_context": {
    "learning_objectives": [
      "변수 할당과 값 저장 개념 이해",
      "절대값 설정과 상대값 변경의 차이 학습",
      "데이터 타입과 변수 활용법",
      "프로그램 상태 관리 기초",
      "변수 초기화와 업데이트 패턴"
    ],
    "key_concepts": [
      {
        "concept": "변수 할당(Variable Assignment)",
        "explanation": "변수라는 저장 공간에 값을 넣는 작업으로, = 연산자와 같은 의미"
      },
      {
        "concept": "값 덮어쓰기(Overwriting)",
        "explanation": "변수에 새 값을 저장하면 이전 값은 완전히 사라지고 새 값만 남음"
      },
      {
        "concept": "초기화(Initialization)",
        "explanation": "변수를 처음 사용하기 전에 시작값을 설정하는 과정"
      },
      {
        "concept": "데이터 타입 자동 변환",
        "explanation": "엔트리는 값의 타입을 자동으로 인식하고 필요시 변환"
      }
    ],
    "difficulty_level": "초급",
    "prerequisites": ["변수 만들기", "기본적인 값의 개념 (숫자, 텍스트)"]
  },

  "usage_examples": [
    {
      "title": "게임 초기 설정",
      "description": "게임 시작 시 변수 초기화",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "점수 변수를 0으로 정하기",
        "생명 변수를 3으로 정하기",
        "레벨 변수를 1로 정하기",
        "게임중 변수를 참으로 정하기",
        "플레이어이름 변수를 '플레이어'로 정하기",
        "",
        "'게임 설정 완료!' 말하기",
        "'생명: ' + (생명) + ' | 레벨: ' + (레벨) 말하기"
      ],
      "explanation": "게임에 필요한 모든 변수를 초기값으로 설정하는 초기화 패턴입니다."
    },
    {
      "title": "사용자 입력 저장",
      "description": "입력받은 값을 변수에 저장",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "'이름이 뭐예요?' 묻고 대답 기다리기",
        "이름 변수를 (대답)으로 정하기",
        "",
        "'나이가 몇 살이에요?' 묻고 대답 기다리기",
        "나이 변수를 (대답)으로 정하기",
        "",
        "'좋아하는 색깔은?' 묻고 대답 기다리기",
        "색깔 변수를 (대답)으로 정하기",
        "",
        "'안녕하세요, ' + (이름) + '님!' 말하기",
        "(나이) + '살이시고, ' + (색깔) + '을 좋아하시는군요!' 말하기"
      ],
      "explanation": "사용자로부터 입력받은 정보를 각각의 변수에 저장하는 시스템입니다."
    },
    {
      "title": "계산 결과 저장",
      "description": "복잡한 계산 결과를 변수에 저장",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "가로 변수를 15로 정하기",
        "세로 변수를 8로 정하기",
        "",
        "// 사각형 계산",
        "넓이 변수를 (가로) × (세로)로 정하기",
        "둘레 변수를 ((가로) + (세로)) × 2로 정하기",
        "대각선 변수를 √((가로)² + (세로)²)로 정하기",
        "",
        "'사각형 정보' 말하기",
        "'넓이: ' + (넓이) + ' 제곱미터' 말하기",
        "'둘레: ' + (둘레) + ' 미터' 말하기",
        "'대각선: ' + (대각선) + ' 미터' 말하기"
      ],
      "explanation": "복잡한 수학 계산 결과를 변수에 저장하여 재사용하는 예제입니다."
    },
    {
      "title": "상태 전환 시스템",
      "description": "프로그램 상태를 변수로 관리",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "상태 변수를 '메뉴'로 정하기",
        "",
        "1 키를 눌렀을 때",
        "만약 (상태) = '메뉴' 라면",
        "  상태 변수를 '게임중'으로 정하기",
        "  '게임을 시작합니다!' 말하기",
        "  배경을 '게임화면'으로 바꾸기",
        "",
        "2 키를 눌렀을 때",
        "만약 (상태) = '게임중' 라면",
        "  상태 변수를 '일시정지'로 정하기",
        "  '게임 일시정지' 말하기",
        "",
        "3 키를 눌렀을 때",
        "상태 변수를 '게임종료'로 정하기",
        "'게임을 종료합니다' 말하기",
        "모든 코드 멈추기"
      ],
      "explanation": "게임 상태를 문자열 변수로 관리하는 상태 머신 패턴입니다."
    },
    {
      "title": "최고 기록 갱신",
      "description": "새 기록이 최고 기록보다 높으면 갱신",
      "blocks": [
        "시작 버튼을 클릭했을 때",
        "최고점수 변수를 0으로 정하기",
        "현재점수 변수를 0으로 정하기",
        "",
        "스페이스 키를 눌렀을 때",
        "// 점수 획득",
        "획득점수 변수를 (10)부터 (100)까지의 무작위 수로 정하기",
        "현재점수 변수를 (획득점수)로 정하기",
        "'획득 점수: ' + (현재점수) 말하기",
        "",
        "// 최고 기록 확인 및 갱신",
        "만약 (현재점수) > (최고점수) 라면",
        "  최고점수 변수를 (현재점수)로 정하기",
        "  '새로운 최고 기록!' 2초 동안 말하기",
        "아니라면",
        "  '최고 기록: ' + (최고점수) 말하기"
      ],
      "explanation": "현재 점수가 최고 점수보다 높으면 최고 점수를 갱신하는 시스템입니다."
    }
  ],

  "progressive_hints": [
    {
      "situation": "변수에 값을 저장하고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "category",
          "content": "'자료' 카테고리에서 변수 관련 블록을 찾아보세요"
        },
        {
          "step": 2,
          "hint_type": "concept",
          "content": "'정하기'는 새 값으로 완전히 바꾸고, '바꾸기'는 현재 값에 더해요"
        },
        {
          "step": 3,
          "hint_type": "specific_block",
          "content": "'[변수]를 [값]으로 정하기' 블록을 사용하세요"
        }
      ]
    },
    {
      "situation": "계산 결과를 저장하고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "계산 블록의 결과를 변수에 저장할 수 있어요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "정하기 블록의 값 부분에 계산 블록을 넣으세요"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "'변수를 (계산식)으로 정하기' 형태로 사용하세요"
        }
      ]
    },
    {
      "situation": "변수를 초기화하고 싶어요",
      "steps": [
        {
          "step": 1,
          "hint_type": "concept",
          "content": "프로그램 시작 부분에서 변수를 원하는 값으로 설정하세요"
        },
        {
          "step": 2,
          "hint_type": "specific_block",
          "content": "'시작 버튼을 클릭했을 때' 아래에 정하기 블록 배치"
        },
        {
          "step": 3,
          "hint_type": "category",
          "content": "숫자는 보통 0, 텍스트는 빈 문자열로 초기화해요"
        }
      ]
    }
  ],

  "common_mistakes": [
    {
      "mistake": "정하기와 바꾸기를 혼동",
      "why_it_happens": "두 블록의 차이를 명확히 이해하지 못함",
      "consequence": "값이 누적되거나 예상과 다른 결과",
      "solution": "정하기는 =, 바꾸기는 += 개념임을 이해",
      "teaching_moment": "지갑에 만원을 '넣기'와 지갑을 만원으로 '정하기'는 다른 것처럼, 정하기는 완전 교체예요."
    },
    {
      "mistake": "초기화 없이 변수 사용",
      "why_it_happens": "변수가 자동으로 0이나 빈 값임을 모름",
      "consequence": "의도하지 않은 초기값 사용",
      "solution": "프로그램 시작 시 명시적으로 초기화",
      "teaching_moment": "새 공책을 사용하기 전에 이름을 쓰는 것처럼, 변수도 처음에 값을 정해주세요."
    },
    {
      "mistake": "변수 이름을 텍스트로 입력",
      "why_it_happens": "변수와 텍스트를 구분하지 못함",
      "consequence": "변수가 아닌 문자열 저장",
      "solution": "드롭다운에서 변수 선택",
      "teaching_moment": "상자의 이름표와 상자 자체는 다른 것처럼, 변수 이름과 변수는 구분해야 해요."
    },
    {
      "mistake": "이전 값이 필요한데 덮어씀",
      "why_it_happens": "정하기가 이전 값을 지움을 잊음",
      "consequence": "이전 데이터 손실",
      "solution": "필요시 다른 변수에 백업 후 변경",
      "teaching_moment": "칠판을 지우고 새로 쓰는 것처럼, 정하기는 이전 내용을 완전히 지워요."
    }
  ],

  "step_by_step_guide": [
    {
      "step": 1,
      "title": "변수 만들기",
      "instruction": "자료 카테고리에서 '변수 만들기' 버튼을 클릭하여 변수를 생성하세요.",
      "visual_hint": "의미 있는 변수 이름을 지정하세요."
    },
    {
      "step": 2,
      "title": "자료 카테고리 선택",
      "instruction": "블록 팔레트에서 '자료' 카테고리를 클릭하세요.",
      "visual_hint": "주황색 상자 모양 아이콘을 찾아보세요."
    },
    {
      "step": 3,
      "title": "정하기 블록 찾기",
      "instruction": "'[변수]를 [값]으로 정하기' 블록을 찾아서 드래그하세요.",
      "visual_hint": "'정하기'라는 단어가 있는 블록이에요."
    },
    {
      "step": 4,
      "title": "변수 선택",
      "instruction": "첫 번째 드롭다운에서 값을 저장할 변수를 선택하세요.",
      "visual_hint": "만들어둔 변수들이 목록에 표시돼요."
    },
    {
      "step": 5,
      "title": "값 입력",
      "instruction": "두 번째 칸에 저장할 값을 입력하거나 다른 블록을 연결하세요.",
      "visual_hint": "숫자, 텍스트, 변수, 계산 결과 등을 넣을 수 있어요."
    },
    {
      "step": 6,
      "title": "이벤트 연결",
      "instruction": "언제 변수를 설정할지 이벤트 블록과 연결하세요.",
      "visual_hint": "시작, 키 입력, 클릭 등의 이벤트와 연결할 수 있어요."
    },
    {
      "step": 7,
      "title": "테스트",
      "instruction": "프로그램을 실행하고 변수값이 제대로 저장되는지 확인하세요.",
      "visual_hint": "변수를 화면에 표시하면 값 변화를 실시간으로 볼 수 있어요."
    }
  ],

  "related_blocks": [
    {
      "block_id": "change_variable",
      "block_name": "[변수]를 [값]만큼 바꾸기",
      "relationship": "상대값 변경",
      "explanation": "현재 값에 더하거나 빼기 (증감)"
    },
    {
      "block_id": "get_variable",
      "block_name": "(변수명)",
      "relationship": "값 읽기",
      "explanation": "저장된 변수값을 읽어서 사용"
    },
    {
      "block_id": "show_variable",
      "block_name": "변수 [변수명] 보이기",
      "relationship": "화면 표시",
      "explanation": "변수값을 화면에 표시"
    },
    {
      "block_id": "ask_and_wait",
      "block_name": "[ ] 묻고 대답 기다리기",
      "relationship": "입력 저장",
      "explanation": "사용자 입력을 변수에 저장할 때 함께 사용"
    },
    {
      "block_id": "calc_basic",
      "block_name": "[값] [연산자] [값]",
      "relationship": "계산 결과 저장",
      "explanation": "계산 결과를 변수에 저장"
    }
  ],

  "debugging_tips": [
    {
      "problem": "변수값이 바뀌지 않아요",
      "possible_causes": ["블록이 실행되지 않음", "잘못된 변수 선택", "다른 곳에서 다시 덮어씀"],
      "solutions": ["이벤트 연결 확인", "정확한 변수 이름 선택", "모든 정하기 블록 확인"]
    },
    {
      "problem": "예상과 다른 값이 저장돼요",
      "possible_causes": ["데이터 타입 혼동", "계산 순서 오류", "입력값 오류"],
      "solutions": ["값의 타입 확인", "계산식 검증", "입력 데이터 확인"]
    },
    {
      "problem": "변수가 초기화되지 않아요",
      "possible_causes": ["초기화 코드가 실행 안 됨", "실행 순서 오류"],
      "solutions": ["시작 이벤트에 초기화 코드 배치", "실행 순서 재정렬"]
    }
  ],

  "real_world_connections": [
    {
      "analogy": "계산기 메모리 저장",
      "explanation": "계산기의 M 버튼으로 값을 메모리에 저장하는 것과 같습니다."
    },
    {
      "analogy": "전화번호 저장",
      "explanation": "연락처에 새 전화번호를 저장하거나 수정하는 것과 유사합니다."
    },
    {
      "analogy": "온도 설정",
      "explanation": "에어컨 온도를 특정 값으로 설정하는 것과 같은 개념입니다."
    },
    {
      "analogy": "점수판 업데이트",
      "explanation": "경기 점수를 새로운 값으로 갱신하는 것과 동일합니다."
    }
  ],

  "extensions_and_variations": [
    {
      "concept": "변수 스왑",
      "description": "두 변수의 값을 서로 바꾸기",
      "use_case": "정렬 알고리즘, 위치 교환"
    },
    {
      "concept": "조건부 할당",
      "description": "조건에 따라 다른 값 저장",
      "use_case": "등급 판정, 상태 설정"
    },
    {
      "concept": "연쇄 할당",
      "description": "여러 변수에 같은 값 동시 저장",
      "use_case": "초기화, 동기화"
    },
    {
      "concept": "백업과 복원",
      "description": "변경 전 값을 저장했다가 복원",
      "use_case": "실행 취소, 임시 저장"
    }
  ],

  "assessment_criteria": [
    {
      "level": "기초",
      "criteria": "변수에 값을 저장하고 사용할 수 있다",
      "example": "이름, 점수 등 간단한 값 저장"
    },
    {
      "level": "중급",
      "criteria": "계산 결과나 입력값을 적절히 저장하고 활용할 수 있다",
      "example": "복잡한 계산 결과 저장, 사용자 입력 처리"
    },
    {
      "level": "고급",
      "criteria": "변수를 활용한 복잡한 상태 관리 시스템을 구현할 수 있다",
      "example": "게임 상태 머신, 데이터 관리 시스템"
    }
  ]
}
